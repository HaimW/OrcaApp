var Lt=Object.defineProperty;var It=(t,s,a)=>s in t?Lt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var Z=(t,s,a)=>(It(t,typeof s!="symbol"?s+"":s,a),a);import{r as N,a as Ft,b as Rt}from"./vendor-b69f2a9f.js";import{u as Mt,a as Tt,c as D,b as ut,d as Pt,P as Ot}from"./redux-06fb5d34.js";import{u as $t,a as J,b as xt,R as Ut,c as U,B as Bt}from"./router-b2921655.js";import{g as Ht,_ as Wt,a as Vt,b as qt,c as Gt,C as Kt,r as Xe,d as Xt,S as Yt,F as Jt,i as Qt,e as Zt,f as es,h as ts,s as ze,j as ss,k as G,l as De,m as Ye,u as as,n as Je,q as Qe,w as Ze,o as et,p as tt,t as rs,v as ns,x as is,y as ls,G as cs,z as os,A as ds,B as hs}from"./firebase-f03e4b7e.js";import{G as f,b as _e,a as ee,c as ms,d as te,f as K,p as st}from"./ui-d7abfbd5.js";import{v as gt}from"./utils-4a60fe23.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var pt={exports:{}},ke={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=N,xs=Symbol.for("react.element"),gs=Symbol.for("react.fragment"),ps=Object.prototype.hasOwnProperty,vs=us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fs={key:!0,ref:!0,__self:!0,__source:!0};function vt(t,s,a){var r,i={},n=null,l=null;a!==void 0&&(n=""+a),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)ps.call(s,r)&&!fs.hasOwnProperty(r)&&(i[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xs,type:t,key:n,ref:l,props:i,_owner:vs.current}}ke.Fragment=gs;ke.jsx=vt;ke.jsxs=vt;pt.exports=ke;var e=pt.exports,Pe={},at=Ft;Pe.createRoot=at.createRoot,Pe.hydrateRoot=at.hydrateRoot;const ft=()=>Mt(),Oe=Tt;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="firebasestorage.googleapis.com",ys="storageBucket",js=2*60*1e3,bs=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I extends Jt{constructor(s,a,r=0){super(Le(s),`Firebase Storage: ${a} (${Le(s)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,I.prototype)}get status(){return this.status_}set status(s){this.status_=s}_codeEquals(s){return Le(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var L;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(L||(L={}));function Le(t){return"storage/"+t}function Ns(){const t="An unknown error occurred, please check the error payload for server response.";return new I(L.UNKNOWN,t)}function ws(){return new I(L.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Es(){return new I(L.CANCELED,"User canceled the upload/download.")}function Cs(t){return new I(L.INVALID_URL,"Invalid URL '"+t+"'.")}function ks(t){return new I(L.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rt(t){return new I(L.INVALID_ARGUMENT,t)}function jt(){return new I(L.APP_DELETED,"The Firebase app was deleted.")}function Ss(t){return new I(L.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(s,a){this.bucket=s,this.path_=a}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,a){let r;try{r=z.makeFromUrl(s,a)}catch{return new z(s,"")}if(r.path==="")return r;throw ks(s)}static makeFromUrl(s,a){let r=null;const i="([A-Za-z0-9.\\-_]+)";function n(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),o={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",g=a.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${u}/b/${i}/o${m}`,"i"),y={bucket:1,path:3},p=a===yt?"(?:storage.googleapis.com|storage.cloud.google.com)":a,E="([^?#]*)",h=new RegExp(`^https?://${p}/${i}/${E}`,"i"),j=[{regex:c,indices:o,postModify:n},{regex:x,indices:y,postModify:d},{regex:h,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<j.length;k++){const $=j[k],q=$.regex.exec(s);if(q){const H=q[$.indices.bucket];let W=q[$.indices.path];W||(W=""),r=new z(H,W),$.postModify(r);break}}if(r==null)throw Cs(s);return r}}class As{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,s,a){let r=1,i=null,n=null,l=!1,c=0;function o(){return c===2}let d=!1;function u(...E){d||(d=!0,s.apply(null,E))}function g(E){i=setTimeout(()=>{i=null,t(x,o())},E)}function m(){n&&clearTimeout(n)}function x(E,...h){if(d){m();return}if(E){m(),u.call(null,E,...h);return}if(o()||l){m(),u.call(null,E,...h);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,g(j)}let y=!1;function p(E){y||(y=!0,m(),!d&&(i!==null?(E||(c=2),clearTimeout(i),g(0)):E||(c=1)))}return g(0),n=setTimeout(()=>{l=!0,p(!0)},a),p}function Ds(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){return t!==void 0}function nt(t,s,a,r){if(r<s)throw rt(`Invalid value for '${t}'. Expected ${s} or greater.`);if(r>a)throw rt(`Invalid value for '${t}'. Expected ${a} or less.`)}function Ls(t){const s=encodeURIComponent;let a="?";for(const r in t)if(t.hasOwnProperty(r)){const i=s(r)+"="+s(t[r]);a=a+i+"&"}return a=a.slice(0,-1),a}var we;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(we||(we={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,s){const a=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,n=s.indexOf(t)!==-1;return a||i||n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(s,a,r,i,n,l,c,o,d,u,g,m=!0){this.url_=s,this.method_=a,this.headers_=r,this.body_=i,this.successCodes_=n,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=o,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,y)=>{this.resolve_=x,this.reject_=y,this.start_()})}start_(){const s=(r,i)=>{if(i){r(!1,new de(!1,null,!0));return}const n=this.connectionFactory_();this.pendingConnection_=n;const l=c=>{const o=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,d)};this.progressCallback_!==null&&n.addUploadProgressListener(l),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(l),this.pendingConnection_=null;const c=n.getErrorCode()===we.NO_ERROR,o=n.getStatus();if(!c||Is(o,this.additionalRetryCodes_)&&this.retry){const u=n.getErrorCode()===we.ABORT;r(!1,new de(!1,null,u));return}const d=this.successCodes_.indexOf(o)!==-1;r(!0,new de(d,n))})},a=(r,i)=>{const n=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const o=this.callback_(c,c.getResponse());_s(o)?n(o):n()}catch(o){l(o)}else if(c!==null){const o=Ns();o.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,o)):l(o)}else if(i.canceled){const o=this.appDelete_?jt():Es();l(o)}else{const o=ws();l(o)}};this.canceled_?a(!1,new de(!1,null,!0)):this.backoffId_=zs(s,a,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,this.backoffId_!==null&&Ds(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class de{constructor(s,a,r){this.wasSuccessCode=s,this.connection=a,this.canceled=!!r}}function Rs(t,s){s!==null&&s.length>0&&(t.Authorization="Firebase "+s)}function Ms(t,s){t["X-Firebase-Storage-Version"]="webjs/"+(s??"AppManager")}function Ts(t,s){s&&(t["X-Firebase-GMPID"]=s)}function Ps(t,s){s!==null&&(t["X-Firebase-AppCheck"]=s)}function Os(t,s,a,r,i,n,l=!0){const c=Ls(t.urlParams),o=t.url+c,d=Object.assign({},t.headers);return Ts(d,s),Rs(d,a),Ms(d,n),Ps(d,r),new Fs(o,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){if(t.length===0)return null;const s=t.lastIndexOf("/");return s===-1?"":t.slice(0,s)}function Us(t){const s=t.lastIndexOf("/",t.length-2);return s===-1?t:t.slice(s+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(s,a){this._service=s,a instanceof z?this._location=a:this._location=z.makeFromUrl(a,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,a){return new Ee(s,a)}get root(){const s=new z(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Us(this._location.path)}get storage(){return this._service}get parent(){const s=$s(this._location.path);if(s===null)return null;const a=new z(this._location.bucket,s);return new Ee(this._service,a)}_throwIfRoot(s){if(this._location.path==="")throw Ss(s)}}function it(t,s){const a=s==null?void 0:s[ys];return a==null?null:z.makeFromBucketSpec(a,t)}function Bs(t,s,a,r={}){t.host=`${s}:${a}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Xt(i,t.app.options.projectId))}class Hs{constructor(s,a,r,i,n){this.app=s,this._authProvider=a,this._appCheckProvider=r,this._url=i,this._firebaseVersion=n,this._bucket=null,this._host=yt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=js,this._maxUploadRetryTime=bs,this._requests=new Set,i!=null?this._bucket=z.makeFromBucketSpec(i,this._host):this._bucket=it(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._url!=null?this._bucket=z.makeFromBucketSpec(this._url,s):this._bucket=it(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){nt("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){nt("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const s=this._authProvider.getImmediate({optional:!0});if(s){const a=await s.getToken();if(a!==null)return a.accessToken}return null}async _getAppCheckToken(){const s=this._appCheckProvider.getImmediate({optional:!0});return s?(await s.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new Ee(this,s)}_makeRequest(s,a,r,i,n=!0){if(this._deleted)return new As(jt());{const l=Os(s,this._appId,r,i,a,this._firebaseVersion,n);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(s,a){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(s,a,r,i).getPromise()}}const lt="@firebase/storage",ct="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="storage";function Ws(t=qt(),s){t=Ht(t);const r=Wt(t,bt).getImmediate({identifier:s}),i=Vt("storage");return i&&Vs(r,...i),r}function Vs(t,s,a,r={}){Bs(t,s,a,r)}function qs(t,{instanceIdentifier:s}){const a=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Hs(a,r,i,s,Yt)}function Gs(){Gt(new Kt(bt,qs,"PUBLIC").setMultipleInstances(!0)),Xe(lt,ct,""),Xe(lt,ct,"esm2017")}Gs();const Ks={apiKey:"AIzaSyA_Km-ls6o_ES1yChEOBQrcqdOMH9_7vPU",authDomain:"orcaapp-54de4.firebaseapp.com",projectId:"orcaapp-54de4",storageBucket:"orcaapp-54de4.appspot.com",messagingSenderId:"223505290661",appId:"1:223505290661:web:4698446b1c612ca74c444c",measurementId:"G-YZ01ES5350"},re=Qt(Ks);console.log("Firebase initialized successfully:",re.name);const _=Zt(re,"aaaa"),S=es(re),Xs=Ws(re);ts(_).catch(t=>{t.code==="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Persistence not available in this browser")});const Ys=Object.freeze(Object.defineProperty({__proto__:null,auth:S,db:_,default:re,storage:Xs},Symbol.toStringTag,{value:"Module"})),F="diveEntries",he=t=>{var s,a,r,i,n,l;return{...t,createdAt:((r=(a=(s=t.createdAt)==null?void 0:s.toDate)==null?void 0:a.call(s))==null?void 0:r.toISOString())||t.createdAt,updatedAt:((l=(n=(i=t.updatedAt)==null?void 0:i.toDate)==null?void 0:n.call(i))==null?void 0:l.toISOString())||t.updatedAt}};class M{static async addDiveEntry(s){try{console.log("FirebaseService.addDiveEntry called with:",s);const a=S.currentUser;if(console.log("Current user:",a?"authenticated":"not authenticated"),console.log("User UID:",a==null?void 0:a.uid),!a)throw new Error("User not authenticated");const r={...s,userId:a.uid,createdAt:ze(),updatedAt:ze()};console.log("Document data to save:",r),console.log("Collection name:",F);const i=await ss(G(_,F),r);return console.log("Dive entry added with ID: ",i.id),i.id}catch(a){throw console.error("Error adding dive entry: ",a),console.error("Error code:",a.code),console.error("Error message:",a.message),a.code==="permission-denied"?new Error("אין הרשאה לשמור צלילה. אנא בדוק את Firebase Rules."):a.code==="unavailable"?new Error("שירות Firebase לא זמין. אנא נסה שוב מאוחר יותר."):a.code==="unauthenticated"?new Error("משתמש לא מחובר. אנא התחבר מחדש."):a.message?new Error(a.message):new Error("שגיאה לא ידועה בשמירת הצלילה")}}static async getAllDiveEntries(){var s;try{console.log("FirebaseService.getAllDiveEntries called"),console.log("Current user:",S.currentUser?"authenticated":"not authenticated"),console.log("User UID:",(s=S.currentUser)==null?void 0:s.uid);const a=G(_,F);console.log("Executing query...");const r=await De(a);console.log("Query snapshot size:",r.size);const i=[];return r.forEach(n=>{const l=n.data();if(console.log("Document data:",n.id,l),!l.date||!l.location){console.warn("Skipping invalid document:",n.id);return}i.push(he({id:n.id,...l}))}),console.log("Returning entries:",i.length),i}catch(a){throw console.error("Error getting dive entries: ",a),console.error("Error code:",a.code),console.error("Error message:",a.message),a}}static async updateDiveEntry(s,a){try{const r=Ye(_,F,s),i={...a,updatedAt:ze()};await as(r,i),console.log("Dive entry updated: ",s)}catch(r){throw console.error("Error updating dive entry: ",r),r}}static async deleteDiveEntry(s){try{await Je(Ye(_,F,s)),console.log("Dive entry deleted: ",s)}catch(a){throw console.error("Error deleting dive entry: ",a),a}}static async getDiveEntriesByUser(s){try{const a=Qe(G(_,F),Ze("userId","==",s),et("date","desc"),et("createdAt","desc")),r=await De(a),i=[];return r.forEach(n=>{const l=n.data();i.push(he({id:n.id,...l}))}),i}catch(a){throw console.error("Error getting user dive entries: ",a),a}}static subscribeToAllDiveEntries(s){console.log("Setting up real-time listener for all entries");const a=G(_,F);return tt(a,i=>{console.log("Real-time listener received snapshot:",i.size,"entries");const n=[];i.forEach(l=>{const c=l.data();if(!c.date||!c.location){console.warn("Skipping invalid document:",l.id);return}n.push(he({id:l.id,...c}))}),s(n)},i=>{console.error("Error in real-time listener: ",i),console.error("Error code:",i.code),console.error("Error message:",i.message)})}static subscribeToUserDiveEntries(s,a){console.log("Setting up real-time listener for user:",s);const r=Qe(G(_,F),Ze("userId","==",s));return tt(r,n=>{console.log("Real-time listener received snapshot:",n.size,"entries");const l=[];n.forEach(c=>{const o=c.data();if(!o.date||!o.location){console.warn("Skipping invalid document:",c.id);return}l.push(he({id:c.id,...o}))}),a(l)},n=>{console.error("Error in user real-time listener: ",n),console.error("Error code:",n.code),console.error("Error message:",n.message),n.code==="permission-denied"?alert("שגיאת הרשאות: אנא בדוק את הגדרות Firebase Rules"):n.code==="unavailable"&&alert("שירות Firebase לא זמין. אנא נסה שוב מאוחר יותר.")})}static async importDiveEntries(s){try{const a=s.map(r=>{const{id:i,...n}=r;return this.addDiveEntry(n)});await Promise.all(a),console.log("All dive entries imported successfully")}catch(a){throw console.error("Error importing dive entries: ",a),a}}static async clearAllDiveEntries(){try{const a=(await De(G(_,F))).docs.map(r=>Je(r.ref));await Promise.all(a),console.log("All dive entries cleared")}catch(s){throw console.error("Error clearing dive entries: ",s),s}}}const Js={diveEntries:[],currentEntry:void 0,isLoading:!1,error:void 0},me=D("diveEntries/fetchAll",async(t,{rejectWithValue:s})=>{try{return await M.getAllDiveEntries()}catch(a){return s(a.message||"Failed to fetch dive entries")}}),ue=D("diveEntries/add",async(t,{rejectWithValue:s})=>{try{console.log("Adding dive entry:",t);const a=await M.addDiveEntry(t);return console.log("Dive entry added with ID:",a),{...t,id:a}}catch(a){return console.error("Error adding dive entry:",a),s(a.message||"Failed to add dive entry")}}),xe=D("diveEntries/update",async(t,{rejectWithValue:s})=>{try{return await M.updateDiveEntry(t.id,t),t}catch(a){return s(a.message||"Failed to update dive entry")}}),ge=D("diveEntries/delete",async(t,{rejectWithValue:s})=>{try{return await M.deleteDiveEntry(t),t}catch(a){return s(a.message||"Failed to delete dive entry")}}),pe=D("diveEntries/import",async(t,{rejectWithValue:s})=>{try{return await M.importDiveEntries(t),await M.getAllDiveEntries()}catch(a){return s(a.message||"Failed to import dive entries")}}),ve=D("diveEntries/clearAll",async(t,{rejectWithValue:s})=>{try{return await M.clearAllDiveEntries(),[]}catch(a){return s(a.message||"Failed to clear entries")}}),Nt=ut({name:"diveEntries",initialState:Js,reducers:{setCurrentEntry:(t,s)=>{t.currentEntry=s.payload},setError:(t,s)=>{t.error=s.payload},clearError:t=>{t.error=void 0},setDiveEntries:(t,s)=>{t.diveEntries=s.payload,t.isLoading=!1},addDiveEntryRealtime:(t,s)=>{t.diveEntries.find(r=>r.id===s.payload.id)||t.diveEntries.unshift(s.payload)},updateDiveEntryRealtime:(t,s)=>{const a=t.diveEntries.findIndex(r=>r.id===s.payload.id);a!==-1&&(t.diveEntries[a]=s.payload)},removeDiveEntryRealtime:(t,s)=>{t.diveEntries=t.diveEntries.filter(a=>a.id!==s.payload)}},extraReducers:t=>{t.addCase(me.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(me.fulfilled,(s,a)=>{s.isLoading=!1,s.diveEntries=a.payload}).addCase(me.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(ue.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(ue.fulfilled,(s,a)=>{s.isLoading=!1,s.diveEntries.find(r=>r.id===a.payload.id)||s.diveEntries.unshift(a.payload)}).addCase(ue.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(xe.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(xe.fulfilled,(s,a)=>{s.isLoading=!1;const r=s.diveEntries.findIndex(i=>i.id===a.payload.id);r!==-1&&(s.diveEntries[r]=a.payload)}).addCase(xe.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(ge.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(ge.fulfilled,(s,a)=>{s.isLoading=!1,s.diveEntries=s.diveEntries.filter(r=>r.id!==a.payload)}).addCase(ge.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(pe.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(pe.fulfilled,(s,a)=>{s.isLoading=!1,s.diveEntries=a.payload}).addCase(pe.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(ve.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(ve.fulfilled,s=>{s.isLoading=!1,s.diveEntries=[]}).addCase(ve.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload})}}),{setCurrentEntry:an,setError:rn,clearError:nn,setDiveEntries:Ie,addDiveEntryRealtime:Qs,updateDiveEntryRealtime:ln,removeDiveEntryRealtime:cn}=Nt.actions,Zs=Nt.reducer,Fe="orca_dive_entries";class ot{static getDiveEntries(){try{const s=localStorage.getItem(Fe);return s?JSON.parse(s):[]}catch(s){return console.error("Error reading from localStorage:",s),[]}}static saveDiveEntries(s){try{localStorage.setItem(Fe,JSON.stringify(s))}catch(a){console.error("Error saving to localStorage:",a)}}static addDiveEntry(s){const a=this.getDiveEntries();a.unshift(s),this.saveDiveEntries(a)}static updateDiveEntry(s){const a=this.getDiveEntries(),r=a.findIndex(i=>i.id===s.id);r!==-1&&(a[r]=s,this.saveDiveEntries(a))}static deleteDiveEntry(s){const r=this.getDiveEntries().filter(i=>i.id!==s);this.saveDiveEntries(r)}static clearAllEntries(){localStorage.removeItem(Fe)}}const Q=()=>{const t=ft(),{diveEntries:s,isLoading:a,error:r}=Oe(m=>m.diveEntries),{user:i,isAuthenticated:n}=Oe(m=>m.auth);return N.useEffect(()=>{n&&t(me())},[t,n,i==null?void 0:i.uid]),N.useEffect(()=>{if(!n)return;let m;try{console.log("Setting up Firebase listener for user:",i==null?void 0:i.uid),i!=null&&i.isAnonymous?m=M.subscribeToAllDiveEntries(x=>{console.log("Firebase listener received entries:",x.length),t(Ie(x))}):i!=null&&i.uid&&(m=M.subscribeToUserDiveEntries(i.uid,x=>{console.log("Firebase listener received entries:",x.length),t(Ie(x))}))}catch(x){console.error("Firebase listener failed:",x);const y=ot.getDiveEntries();t(Ie(y))}return()=>{m&&(console.log("Cleaning up Firebase listener"),m())}},[t,n,i==null?void 0:i.uid,i==null?void 0:i.isAnonymous]),{diveEntries:s,isLoading:a,error:r,addEntry:async m=>{try{const x={...m,userId:(i==null?void 0:i.uid)||"anonymous"};console.log("Attempting to add entry to Firebase:",x);const y=await t(ue(x));if(console.log("Firebase result:",y.type),y.type.endsWith("/rejected")){console.log("Firebase failed, using localStorage fallback");const p={...x,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};ot.addDiveEntry(p),t(Qs(p)),console.log("Entry added successfully to localStorage")}else console.log("Entry added successfully to Firebase");return y}catch(x){throw console.error("Error adding entry:",x),x}},updateEntry:async m=>t(xe(m)),deleteEntry:async m=>t(ge(m)),importEntries:async m=>t(pe(m)),clearAllEntries:async()=>t(ve()),exportEntries:()=>{const m=JSON.stringify(s,null,2),x=new Blob([m],{type:"application/json"}),y=URL.createObjectURL(x),p=document.createElement("a");p.href=y,p.download=`orca-dive-log-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(y)}}};class B{static async signInAnonymously(){try{console.log("Attempting anonymous sign in...");const s=await rs(S);return console.log("Signed in anonymously:",s.user.uid),s.user}catch(s){throw console.error("Error signing in anonymously:",s),s}}static async signUpWithEmail(s,a,r){try{console.log("Creating user account...");const i=await ns(S,s,a);return await is(i.user,{displayName:r}),console.log("User created successfully:",i.user.email),i.user}catch(i){throw console.error("Error creating user account:",i),i}}static async signInWithEmail(s,a){try{console.log("Signing in with email...");const r=await ls(S,s,a);return console.log("Signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Error signing in with email:",r),r}}static async signInWithGoogle(){try{const s=new cs,a=await os(S,s);return console.log("Signed in with Google:",a.user.email),a.user}catch(s){throw console.error("Error signing in with Google:",s),s}}static async signOut(){try{await ds(S),console.log("User signed out")}catch(s){throw console.error("Error signing out:",s),s}}static getCurrentUser(){return S.currentUser}static onAuthStateChanged(s){return console.log("Setting up auth state listener"),hs(S,a=>{console.log("Auth state changed:",a?"User logged in":"User logged out"),s(a)})}static isAnonymous(){const s=S.currentUser;return s?s.isAnonymous:!1}static getUserDisplayName(){const s=S.currentUser;return s?s.isAnonymous?"משתמש אנונימי":s.displayName||s.email||"משתמש":"אורח"}static getUserId(){const s=S.currentUser;return s?s.uid:null}}const se=t=>t?{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,isAnonymous:t.isAnonymous}:null,ea={user:null,isLoading:!0,error:void 0,isAuthenticated:!1,isAnonymous:!1},fe=D("auth/signInAnonymously",async(t,{rejectWithValue:s})=>{try{return await B.signInAnonymously()}catch(a){return s(a.message||"Failed to sign in anonymously")}}),ye=D("auth/signUpWithEmail",async({email:t,password:s,displayName:a},{rejectWithValue:r})=>{try{return await B.signUpWithEmail(t,s,a)}catch(i){return r(i.message||"Failed to create account")}}),je=D("auth/signInWithEmail",async({email:t,password:s},{rejectWithValue:a})=>{try{return await B.signInWithEmail(t,s)}catch(r){return a(r.message||"Failed to sign in")}}),be=D("auth/signInWithGoogle",async(t,{rejectWithValue:s})=>{try{return await B.signInWithGoogle()}catch(a){return s(a.message||"Failed to sign in with Google")}}),Ne=D("auth/signOut",async(t,{rejectWithValue:s})=>{try{return await B.signOut(),null}catch(a){return s(a.message||"Failed to sign out")}}),wt=ut({name:"auth",initialState:ea,reducers:{setUser:(t,s)=>{var a;console.log("setUser called with:",s.payload?"User":"null"),t.user=se(s.payload),t.isAuthenticated=!!s.payload,t.isAnonymous=((a=s.payload)==null?void 0:a.isAnonymous)||!1,t.isLoading=!1},setAuthLoading:(t,s)=>{t.isLoading=s.payload},setAuthError:(t,s)=>{t.error=s.payload},clearAuthError:t=>{t.error=void 0}},extraReducers:t=>{t.addCase(fe.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(fe.fulfilled,(s,a)=>{s.isLoading=!1,s.user=se(a.payload),s.isAuthenticated=!0,s.isAnonymous=!0}).addCase(fe.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(ye.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(ye.fulfilled,(s,a)=>{s.isLoading=!1,s.user=se(a.payload),s.isAuthenticated=!0,s.isAnonymous=!1}).addCase(ye.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(je.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(je.fulfilled,(s,a)=>{s.isLoading=!1,s.user=se(a.payload),s.isAuthenticated=!0,s.isAnonymous=!1}).addCase(je.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(be.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(be.fulfilled,(s,a)=>{s.isLoading=!1,s.user=se(a.payload),s.isAuthenticated=!0,s.isAnonymous=!1}).addCase(be.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload}),t.addCase(Ne.pending,s=>{s.isLoading=!0,s.error=void 0}).addCase(Ne.fulfilled,s=>{s.isLoading=!1,s.user=null,s.isAuthenticated=!1,s.isAnonymous=!1}).addCase(Ne.rejected,(s,a)=>{s.isLoading=!1,s.error=a.payload})}}),{setUser:ta,setAuthLoading:on,setAuthError:dn,clearAuthError:hn}=wt.actions,sa=wt.reducer,O=()=>{const t=ft(),{user:s,isLoading:a,error:r,isAuthenticated:i,isAnonymous:n}=Oe(x=>x.auth);return N.useEffect(()=>{const x=B.onAuthStateChanged(y=>{t(ta(y))});return()=>x()},[t]),{user:s,isLoading:a,error:r,isAuthenticated:i,isAnonymous:n,signUpWithEmail:async(x,y,p)=>t(ye({email:x,password:y,displayName:p})),signInWithEmail:async(x,y)=>t(je({email:x,password:y})),signInAnonymously:async()=>t(fe()),signInWithGoogle:async()=>t(be()),signOut:async()=>t(Ne()),getUserDisplayName:()=>B.getUserDisplayName(),getUserId:()=>B.getUserId()}},aa=()=>{const[t,s]=N.useState({isOnline:navigator.onLine,isOffline:!navigator.onLine,lastOnline:navigator.onLine?new Date:null,connectionType:null});return N.useEffect(()=>{const a=()=>{s(n=>({...n,isOnline:!0,isOffline:!1,lastOnline:new Date}))},r=()=>{s(n=>({...n,isOnline:!1,isOffline:!0}))};return window.addEventListener("online",a),window.addEventListener("offline",r),(()=>{if("connection"in navigator){const n=navigator.connection;s(l=>({...l,connectionType:(n==null?void 0:n.effectiveType)||"unknown"}))}})(),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}},[]),t};class ra{constructor(){Z(this,"events",[]);Z(this,"isEnabled",!0);this.isEnabled=this.shouldEnableAnalytics()}shouldEnableAnalytics(){return localStorage.getItem("analytics-consent")==="true"}setConsent(s){localStorage.setItem("analytics-consent",s.toString()),this.isEnabled=s}track(s,a){if(!this.isEnabled)return;const r={action:s,category:(a==null?void 0:a.category)||"general",label:a==null?void 0:a.label,value:a==null?void 0:a.value,userId:a==null?void 0:a.userId,timestamp:Date.now()};this.events.push(r),console.log("Analytics Event:",r),this.sendToAnalyticsService(r)}sendToAnalyticsService(s){}trackPageView(s,a){this.track("page_view",{category:"navigation",label:s,userId:a})}trackDiveEntryCreated(s,a){this.track("dive_entry_created",{category:"dive_entry",label:s,userId:a})}trackDiveEntryUpdated(s,a){this.track("dive_entry_updated",{category:"dive_entry",label:s,userId:a})}trackDiveEntryDeleted(s,a){this.track("dive_entry_deleted",{category:"dive_entry",label:s,userId:a})}trackSearch(s,a,r){this.track("search",{category:"search",label:s,value:a,userId:r})}trackFilterUsed(s,a,r){this.track("filter_used",{category:"filter",label:`${s}:${a}`,userId:r})}trackAuthMethod(s,a){this.track("auth_method",{category:"authentication",label:s,userId:a})}trackError(s,a,r){this.track("error",{category:"error",label:`${a}:${s}`,userId:r})}trackPerformance(s,a,r){this.track("performance",{category:"performance",label:s,value:a,userId:r})}getEvents(){return[...this.events]}clearEvents(){this.events=[]}exportData(){return JSON.stringify({events:this.events,totalEvents:this.events.length,exportDate:new Date().toISOString()},null,2)}}const R=new ra,na=()=>{const{user:t,isAuthenticated:s}=O();return N.useEffect(()=>{const o=()=>{const u=window.location.pathname;R.trackPageView(u,(t==null?void 0:t.uid)||void 0)};o();const d=()=>{o()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[t==null?void 0:t.uid]),{trackEvent:(o,d)=>{R.track(o,{...d,userId:t==null?void 0:t.uid})},trackDiveEntry:(o,d)=>{switch(o){case"created":R.trackDiveEntryCreated(d,t==null?void 0:t.uid);break;case"updated":R.trackDiveEntryUpdated(d,t==null?void 0:t.uid);break;case"deleted":R.trackDiveEntryDeleted(d,t==null?void 0:t.uid);break}},trackSearch:(o,d)=>{R.trackSearch(o,d,t==null?void 0:t.uid)},trackFilter:(o,d)=>{R.trackFilterUsed(o,d,t==null?void 0:t.uid)},trackError:(o,d)=>{R.trackError(o,d,t==null?void 0:t.uid)},trackPerformance:(o,d)=>{R.trackPerformance(o,d,t==null?void 0:t.uid)}}},ne=({size:t="md",color:s="ocean",fullScreen:a=!1,text:r})=>{const i={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},n={ocean:"border-ocean-500",white:"border-white",gray:"border-gray-500"},l=e.jsx("div",{className:`
        animate-spin rounded-full border-2 border-t-transparent
        ${i[t]}
        ${n[s]}
      `});return a?e.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l,r&&e.jsx("p",{className:"text-gray-600 font-medium",children:r})]})}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l,r&&e.jsx("p",{className:"text-gray-600 text-sm",children:r})]})},b=({children:t,className:s="",padding:a="md",hover:r=!1,onClick:i})=>{const l=`
    card
    ${{none:"",sm:"p-3",md:"p-4",lg:"p-6"}[a]}
    ${r?"hover:shadow-md transition-shadow duration-200":""}
    ${i?"cursor-pointer active:scale-[0.98] transition-transform duration-150":""}
    ${s}
  `.trim(),c=i?"button":"div";return e.jsx(c,{className:l,onClick:i,children:t})},w=({variant:t="primary",size:s="md",fullWidth:a=!1,loading:r=!1,children:i,className:n="",disabled:l,...c})=>{const o="btn font-medium transition-all duration-200 flex items-center justify-center gap-2",d={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",ghost:"hover:bg-gray-100 active:bg-gray-200"},u={sm:"px-3 py-2 text-sm h-9",md:"px-4 py-3 text-base h-12",lg:"px-6 py-4 text-lg h-14"},g=a?"w-full":"",m=`
    ${o}
    ${d[t]}
    ${u[s]}
    ${g}
    ${n}
  `.trim();return e.jsxs("button",{className:m,disabled:l||r,...c,children:[r&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),i]})},C=N.forwardRef(({label:t,error:s,helperText:a,icon:r,fullWidth:i=!0,className:n="",...l},c)=>{const o=`
    input
    ${s?"border-coral-500 focus-visible:ring-coral-500":""}
    ${r?"pr-10":""}
    ${i?"w-full":""}
    ${n}
  `.trim();return e.jsxs("div",{className:`space-y-2 ${i?"w-full":""}`,children:[t&&e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:c,className:o,...l}),r&&e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:r})]}),s&&e.jsx("p",{className:"text-sm text-coral-500 font-medium",children:s}),a&&!s&&e.jsx("p",{className:"text-sm text-gray-500",children:a})]})});C.displayName="Input";function Et(t){return f({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(t)}function ia(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function Ct(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(t)}function la(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"}}]})(t)}function ca(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function oa(t){return f({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"}}]})(t)}function da(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function Be(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function He(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function ha(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function ma(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function ie(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(t)}function ua(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128c-.6 0-1.1.2-1.6.2 1.1-5.2 1.6-10.6 1.6-16.2 0-44.2-35.8-80-80-80-24.6 0-46.3 11.3-61 28.8C256.4 24.8 219.3 0 176 0 114.1 0 64 50.1 64 112c0 7.3.8 14.3 2.1 21.2C27.8 145.8 0 181.5 0 224c0 53 43 96 96 96h320c53 0 96-43 96-96s-43-96-96-96zM88 374.2c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0z"}}]})(t)}function xa(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M575.2 325.7c.2-1.9.8-3.7.8-5.6 0-35.3-28.7-64-64-64-12.6 0-24.2 3.8-34.1 10-17.6-38.8-56.5-66-101.9-66-61.8 0-112 50.1-112 112 0 3 .7 5.8.9 8.7-49.6 3.7-88.9 44.7-88.9 95.3 0 53 43 96 96 96h272c53 0 96-43 96-96 0-42.1-27.2-77.4-64.8-90.4zm-430.4-22.6c-43.7-43.7-43.7-114.7 0-158.3 43.7-43.7 114.7-43.7 158.4 0 9.7 9.7 16.9 20.9 22.3 32.7 9.8-3.7 20.1-6 30.7-7.5L386 81.1c4-11.9-7.3-23.1-19.2-19.2L279 91.2 237.5 8.4C232-2.8 216-2.8 210.4 8.4L169 91.2 81.1 61.9C69.3 58 58 69.3 61.9 81.1l29.3 87.8-82.8 41.5c-11.2 5.6-11.2 21.5 0 27.1l82.8 41.4-29.3 87.8c-4 11.9 7.3 23.1 19.2 19.2l76.1-25.3c6.1-12.4 14-23.7 23.6-33.5-13.1-5.4-25.4-13.4-36-24zm-4.8-79.2c0 40.8 29.3 74.8 67.9 82.3 8-4.7 16.3-8.8 25.2-11.7 5.4-44.3 31-82.5 67.4-105C287.3 160.4 258 140 224 140c-46.3 0-84 37.6-84 83.9z"}}]})(t)}function ga(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"}}]})(t)}function We(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function Re(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"}}]})(t)}function pa(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}}]})(t)}function va(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function le(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function fa(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"}}]})(t)}function $e(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function V(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function ya(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(t)}function ja(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"}}]})(t)}function ba(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function X(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M327.1 96c-89.97 0-168.54 54.77-212.27 101.63L27.5 131.58c-12.13-9.18-30.24.6-27.14 14.66L24.54 256 .35 365.77c-3.1 14.06 15.01 23.83 27.14 14.66l87.33-66.05C158.55 361.23 237.13 416 327.1 416 464.56 416 576 288 576 256S464.56 96 327.1 96zm87.43 184c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24 13.26 0 24 10.74 24 24 0 13.25-10.75 24-24 24z"}}]})(t)}function Na(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(t)}function kt(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function wa(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(t)}function Ea(t){return f({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"}}]})(t)}function St(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(t)}function Ve(t){return f({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function T(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Ca(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(t)}function At(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M635.7 167.2L556.1 31.7c-8.8-15-28.3-20.1-43.5-11.5l-69 39.1L503.3 161c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L416 75l-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L333.2 122 278 153.3 337.8 255c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-59.7-101.7-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-27.9-47.5-55.2 31.3 59.7 101.7c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L84.9 262.9l-69 39.1C.7 310.7-4.6 329.8 4.2 344.8l79.6 135.6c8.8 15 28.3 20.1 43.5 11.5L624.1 210c15.2-8.6 20.4-27.8 11.6-42.8z"}}]})(t)}function ka(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function dt(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(t)}function Sa(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(t)}function Aa(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(t)}function Ue(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(t)}function za(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 368H80c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h544c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zm-480 96H16c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zm416 0H224c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h336c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zM144 288h156.1c22.5 19.7 51.6 32 83.9 32s61.3-12.3 83.9-32H528c61.9 0 112-50.1 112-112S589.9 64 528 64c-18 0-34.7 4.6-49.7 12.1C454 31 406.8 0 352 0c-41 0-77.8 17.3-104 44.8C221.8 17.3 185 0 144 0 64.5 0 0 64.5 0 144s64.5 144 144 144z"}}]})(t)}function Se(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}function zt(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(t)}function Da(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function Ae(t){return f({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M192 384c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-23.685 12.876-44.349 32-55.417V224c0-17.673 14.327-32 32-32s32 14.327 32 32v104.583c19.124 11.068 32 31.732 32 55.417zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"}}]})(t)}function ce(t){return f({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function qe(t){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function _a(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}function A(t){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M562.1 383.9c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144C540.6 93.4 520 85.4 504.2 73 490.1 61.9 470 61.7 456 73c-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3z"}}]})(t)}function Ge(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"}}]})(t)}function La(t){return f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"}}]})(t)}function Ia(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M156.7 256H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h142.2c15.9 0 30.8 10.9 33.4 26.6 3.3 20-12.1 37.4-31.6 37.4-14.1 0-26.1-9.2-30.4-21.9-2.1-6.3-8.6-10.1-15.2-10.1H81.6c-9.8 0-17.7 8.8-15.9 18.4 8.6 44.1 47.6 77.6 94.2 77.6 57.1 0 102.7-50.1 95.2-108.6C249 291 205.4 256 156.7 256zM16 224h336c59.7 0 106.8-54.8 93.8-116.7-7.6-36.2-36.9-65.5-73.1-73.1-55.4-11.6-105.1 24.9-114.9 75.5-1.9 9.6 6.1 18.3 15.8 18.3h32.8c6.7 0 13.1-3.8 15.2-10.1C325.9 105.2 337.9 96 352 96c19.4 0 34.9 17.4 31.6 37.4-2.6 15.7-17.4 26.6-33.4 26.6H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16zm384 32H243.7c19.3 16.6 33.2 38.8 39.8 64H400c26.5 0 48 21.5 48 48s-21.5 48-48 48c-17.9 0-33.3-9.9-41.6-24.4-2.9-5-8.7-7.6-14.5-7.6h-33.8c-10.9 0-19 10.8-15.3 21.1 17.8 50.6 70.5 84.8 129.4 72.3 41.2-8.7 75.1-41.6 84.7-82.7C526 321.5 470.5 256 400 256z"}}]})(t)}const Fa=({onSwitchToRegister:t})=>{const{signInWithEmail:s,signInWithGoogle:a,isLoading:r,error:i}=O(),[n,l]=N.useState({email:"",password:""}),[c,o]=N.useState(!1),[d,u]=N.useState({}),g=(p,E)=>{l(h=>({...h,[p]:E})),d[p]&&u(h=>({...h,[p]:""}))},m=()=>{const p={};return n.email?/\S+@\S+\.\S+/.test(n.email)||(p.email="אימייל לא תקין"):p.email="אימייל נדרש",n.password?n.password.length<6&&(p.password="סיסמה חייבת להכיל לפחות 6 תווים"):p.password="סיסמה נדרשת",u(p),Object.keys(p).length===0},x=async p=>{if(p.preventDefault(),m())try{await s(n.email,n.password)}catch(E){console.error("Login error:",E)}},y=async()=>{try{await a()}catch(p){console.error("Google sign in error:",p)}};return e.jsxs(b,{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"gradient-ocean rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center text-4xl",children:"🐋"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"התחברות לאורקה"}),e.jsx("p",{className:"text-gray-600",children:"התחבר לחשבון שלך"})]}),i&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:i})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{type:"email",placeholder:"כתובת אימייל",value:n.email,onChange:p=>g("email",p.target.value),className:d.email?"border-red-500":""}),d.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{type:c?"text":"password",placeholder:"סיסמה",value:n.password,onChange:p=>g("password",p.target.value),className:d.password?"border-red-500 pr-10":"pr-10"}),e.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx($e,{size:16}):e.jsx(V,{size:16})})]}),d.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.password})]}),e.jsx(w,{type:"submit",variant:"primary",fullWidth:!0,disabled:r,className:"h-12",children:r?"מתחבר...":"התחבר"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"או"})})]}),e.jsxs(w,{type:"button",variant:"secondary",fullWidth:!0,onClick:y,disabled:r,className:"mt-4 h-12",children:[e.jsx(Et,{size:20}),"התחבר עם Google"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["אין לך חשבון?"," ",e.jsx("button",{type:"button",onClick:t,className:"text-ocean-600 hover:text-ocean-700 font-medium",children:"הירשם כאן"})]})})]})},Ra=({onSwitchToLogin:t})=>{const{signUpWithEmail:s,signInWithGoogle:a,isLoading:r,error:i}=O(),[n,l]=N.useState({displayName:"",email:"",password:"",confirmPassword:""}),[c,o]=N.useState(!1),[d,u]=N.useState(!1),[g,m]=N.useState({}),x=(h,v)=>{l(j=>({...j,[h]:v})),g[h]&&m(j=>({...j,[h]:""}))},y=()=>{const h={};return n.displayName.trim()?n.displayName.trim().length<2&&(h.displayName="שם חייב להכיל לפחות 2 תווים"):h.displayName="שם מלא נדרש",n.email?/\S+@\S+\.\S+/.test(n.email)||(h.email="אימייל לא תקין"):h.email="אימייל נדרש",n.password?n.password.length<6&&(h.password="סיסמה חייבת להכיל לפחות 6 תווים"):h.password="סיסמה נדרשת",n.confirmPassword?n.password!==n.confirmPassword&&(h.confirmPassword="סיסמאות לא תואמות"):h.confirmPassword="אישור סיסמה נדרש",m(h),Object.keys(h).length===0},p=async h=>{if(h.preventDefault(),y())try{await s(n.email,n.password,n.displayName.trim())}catch(v){console.error("Registration error:",v)}},E=async()=>{try{await a()}catch(h){console.error("Google sign in error:",h)}};return e.jsxs(b,{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"gradient-ocean rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center text-4xl",children:"🐋"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"הרשמה לאורקה"}),e.jsx("p",{className:"text-gray-600",children:"צור חשבון חדש"})]}),i&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:i})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{type:"text",placeholder:"שם מלא",value:n.displayName,onChange:h=>x("displayName",h.target.value),className:g.displayName?"border-red-500":""}),g.displayName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.displayName})]}),e.jsxs("div",{children:[e.jsx(C,{type:"email",placeholder:"כתובת אימייל",value:n.email,onChange:h=>x("email",h.target.value),className:g.email?"border-red-500":""}),g.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.email})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{type:c?"text":"password",placeholder:"סיסמה",value:n.password,onChange:h=>x("password",h.target.value),className:g.password?"border-red-500 pr-10":"pr-10"}),e.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx($e,{size:16}):e.jsx(V,{size:16})})]}),g.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.password})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{type:d?"text":"password",placeholder:"אישור סיסמה",value:n.confirmPassword,onChange:h=>x("confirmPassword",h.target.value),className:g.confirmPassword?"border-red-500 pr-10":"pr-10"}),e.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx($e,{size:16}):e.jsx(V,{size:16})})]}),g.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.confirmPassword})]}),e.jsx(w,{type:"submit",variant:"primary",fullWidth:!0,disabled:r,className:"h-12",children:r?"יוצר חשבון...":"הירשם"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"או"})})]}),e.jsxs(w,{type:"button",variant:"secondary",fullWidth:!0,onClick:E,disabled:r,className:"mt-4 h-12",children:[e.jsx(Et,{size:20}),"הירשם עם Google"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["יש לך כבר חשבון?"," ",e.jsx("button",{type:"button",onClick:t,className:"text-ocean-600 hover:text-ocean-700 font-medium",children:"התחבר כאן"})]})})]})},Ma=({children:t})=>{const{user:s,isLoading:a,error:r,isAuthenticated:i,isAnonymous:n,signOut:l,getUserDisplayName:c}=O(),[o,d]=N.useState(!1);console.log("AuthWrapper state:",{isLoading:a,isAuthenticated:i,user:!!s,error:r}),console.log("AuthWrapper user details:",{uid:s==null?void 0:s.uid,email:s==null?void 0:s.email,displayName:s==null?void 0:s.displayName});const[u,g]=N.useState(!1);return N.useEffect(()=>{if(a){const m=setTimeout(()=>{g(!0)},5e3);return()=>clearTimeout(m)}else g(!1)},[a]),a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{size:"lg",text:"מתחבר..."}),u&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-100 border border-yellow-300 rounded-lg",children:[e.jsx("p",{className:"text-yellow-800 text-sm",children:"יש בעיה בחיבור. אנא רענן את הדף או נסה שוב."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"רענן דף"})]})]})}):i?e.jsxs(e.Fragment,{children:[t,e.jsx("div",{className:"fixed top-0 left-0 right-0 bg-blue-500 text-white text-center py-1 text-xs z-50",children:e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsxs("span",{children:["מחובר כ: ",c()]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-1 hover:bg-blue-600 px-2 py-1 rounded",children:[e.jsx(Ue,{size:12}),"יציאה"]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o?e.jsx(Ra,{onSwitchToLogin:()=>d(!1)}):e.jsx(Fa,{onSwitchToRegister:()=>d(!0)})})},Ta=["yafim.sh@gmail.com"],Pa=t=>t?!!(Ta.includes(t.toLowerCase())||t.toLowerCase().includes("admin")):!1,Oa=()=>{const t=$t(),s=J(),{user:a}=O(),r=[{path:"/",icon:kt,label:"בית"},{path:"/entries",icon:St,label:"יומן"},{path:"/add",icon:T,label:"הוספה",isSpecial:!0},{path:"/stats",icon:He,label:"סטטיסטיקות"},{path:"/settings",icon:We,label:"הגדרות"}],n=Pa(a==null?void 0:a.email)?[...r,{path:"/admin",icon:Aa,label:"ניהול",isAdmin:!0}]:r;return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-bottom z-40",children:e.jsx("div",{className:"flex justify-around items-center py-2",children:n.map(l=>{const c=t.pathname===l.path,o=l.icon;return e.jsxs("button",{onClick:()=>s(l.path),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-[60px] ${c?l.isAdmin?"text-red-500":"text-ocean-500":"text-gray-500 hover:text-gray-700"} ${l.isSpecial?"bg-ocean-500 text-white hover:bg-ocean-600 active:bg-ocean-700 shadow-lg scale-110":l.isAdmin?"bg-red-50 border border-red-200":""}`,"aria-label":l.label,children:[e.jsx(o,{size:l.isSpecial?24:20,className:`mb-1 ${l.isSpecial?"text-white":""}`}),e.jsx("span",{className:`text-xs font-medium ${l.isSpecial?"text-white":""}`,children:l.label})]},l.path)})})})};class $a extends N.Component{constructor(a){super(a);Z(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});Z(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("ErrorBoundary caught an error:",a,r),this.setState({error:a,errorInfo:r}),this.props.onError&&this.props.onError(a,r),console.error("Production error:",{error:a.message,stack:a.stack,componentStack:r.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(b,{className:"w-full max-w-md text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-red-100 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:e.jsx(le,{className:"text-red-600 text-3xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"אופס! משהו השתבש"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"קרתה שגיאה לא צפויה. אנא נסו שוב או פנו לתמיכה."}),!1]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(w,{variant:"primary",fullWidth:!0,onClick:this.handleRetry,className:"h-12",children:[e.jsx(Ca,{size:16}),"נסה שוב"]}),e.jsxs(w,{variant:"secondary",fullWidth:!0,onClick:this.handleGoHome,className:"h-12",children:[e.jsx(kt,{size:16}),"חזרה לעמוד הבית"]})]}),e.jsx("div",{className:"mt-6 text-xs text-gray-500",children:e.jsx("p",{children:"אם הבעיה נמשכת, אנא צרו קשר עם התמיכה הטכנית"})})]})}):this.props.children}}const Ua=()=>{const{isOnline:t,isOffline:s,lastOnline:a}=aa();if(t)return null;const r=i=>{if(!i)return"לא ידוע";const l=new Date().getTime()-i.getTime(),c=Math.floor(l/6e4);if(c<1)return"עכשיו";if(c<60)return`לפני ${c} דקות`;const o=Math.floor(c/60);return o<24?`לפני ${o} שעות`:`לפני ${Math.floor(o/24)} ימים`};return e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-orange-500 text-white text-center py-2 text-sm z-50 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(le,{size:16}),e.jsx("span",{className:"font-medium",children:"אין חיבור לאינטרנט"}),a&&e.jsxs("span",{className:"text-orange-100",children:["(מחובר לאחרונה: ",r(a),")"]})]}),e.jsx("div",{className:"text-xs text-orange-100 mt-1",children:"האפליקציה תעבוד במצב לא מקוון עם הנתונים השמורים"})]})},Ba="modulepreload",Ha=function(t){return"/OrcaApp/"+t},ht={},Wa=function(s,a,r){if(!a||a.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=Ha(n),n in ht)return;ht[n]=!0;const l=n.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const g=i[u];if(g.href===n&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Ba,l||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),l)return new Promise((u,g)=>{d.addEventListener("load",u),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>s()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},Va=()=>{const[t,s]=N.useState("checking"),[a,r]=N.useState(!1);if(N.useEffect(()=>{(async()=>{try{console.log("Checking Firebase connection...");const{db:o}=await Wa(()=>Promise.resolve().then(()=>Ys),void 0);o?(console.log("Firebase connection successful"),s("connected")):(console.log("Firebase connection failed - no db"),s("error"))}catch(o){console.error("Firebase connection check failed:",o),s("error")}})()},[]),t==="checking")return null;const n=(()=>{switch(t){case"connected":return{icon:ha,color:"text-green-500",bgColor:"bg-green-50",borderColor:"border-green-200",message:"מחובר ל-Firebase",details:"הנתונים נשמרים בענן"};case"error":return{icon:le,color:"text-yellow-500",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",message:"מצב לא מקוון",details:"הנתונים נשמרים מקומית"};case"offline":return{icon:La,color:"text-gray-500",bgColor:"bg-gray-50",borderColor:"border-gray-200",message:"לא מחובר לאינטרנט",details:"הנתונים נשמרים מקומית"};default:return null}})();if(!n)return null;const l=n.icon;return e.jsxs("div",{className:`fixed top-4 right-4 z-50 ${n.bgColor} ${n.borderColor} border rounded-lg p-3 shadow-lg max-w-xs`,children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r(!a),children:[e.jsx(l,{className:n.color,size:16}),e.jsx("span",{className:`text-sm font-medium ${n.color}`,children:n.message})]}),a&&e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:n.details})]})},qa=()=>{var m;const{user:t}=O(),[s,a]=N.useState([]),[r,i]=N.useState(!0),[n,l]=N.useState(null),c=(t==null?void 0:t.email)==="admin@orca.com"||((m=t==null?void 0:t.email)==null?void 0:m.includes("admin"));N.useEffect(()=>{c&&o()},[c]);const o=async()=>{try{i(!0),a([{uid:"1",email:"admin@orca.com",displayName:"מנהל מערכת",createdAt:"2024-01-01",isAdmin:!0,isActive:!0},{uid:"2",email:"user1@example.com",displayName:"משתמש 1",createdAt:"2024-01-15",isAdmin:!1,isActive:!0},{uid:"3",email:"user2@example.com",displayName:"משתמש 2",createdAt:"2024-02-01",isAdmin:!1,isActive:!1}])}catch(x){l("שגיאה בטעינת רשימת המשתמשים"),console.error("Error fetching users:",x)}finally{i(!1)}},d=async(x,y)=>{try{a(p=>p.map(E=>E.uid===x?{...E,isActive:!y}:E))}catch(p){console.error("Error updating user status:",p)}},u=async x=>{if(window.confirm("האם אתה בטוח שברצונך למחוק את המשתמש?"))try{a(y=>y.filter(p=>p.uid!==x))}catch(y){console.error("Error deleting user:",y)}},g=async(x,y)=>{try{a(p=>p.map(E=>E.uid===x?{...E,isAdmin:!y}:E))}catch(p){console.error("Error updating admin status:",p)}};return c?r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ne,{size:"lg",text:"טוען משתמשים..."})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"פאנל ניהול משתמשים"}),e.jsx("p",{className:"text-gray-600",children:"ניהול משתמשי המערכת"})]}),n&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700",children:n})}),e.jsx(b,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"שם"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"אימייל"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"תאריך הרשמה"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"סטטוס"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"הרשאות"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"פעולות"})]})}),e.jsx("tbody",{children:s.map(x=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[x.isAdmin&&e.jsx(Re,{className:"text-yellow-500",size:16}),e.jsx("span",{className:"font-medium",children:x.displayName})]})}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:x.email}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(x.createdAt).toLocaleDateString("he-IL")}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isActive?"פעיל":"לא פעיל"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.isAdmin?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:x.isAdmin?"מנהל":"משתמש"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{size:"sm",variant:x.isActive?"secondary":"primary",onClick:()=>d(x.uid,x.isActive),children:x.isActive?e.jsx(la,{size:12}):e.jsx(ma,{size:12})}),!x.isAdmin&&e.jsx(w,{size:"sm",variant:"secondary",onClick:()=>g(x.uid,x.isAdmin),children:e.jsx(Re,{size:12})}),e.jsx(w,{size:"sm",variant:"secondary",onClick:()=>u(x.uid),className:"text-red-600 hover:text-red-700",children:e.jsx(qe,{size:12})})]})})]},x.uid))})]})})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(w,{variant:"primary",onClick:o,children:[e.jsx(_a,{size:16}),"רענן רשימה"]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(b,{className:"w-full max-w-md text-center",children:e.jsxs("div",{className:"mb-6",children:[e.jsx(Re,{className:"text-yellow-500 text-6xl mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"גישה נדחתה"}),e.jsx("p",{className:"text-gray-600",children:"רק מנהלי מערכת יכולים לגשת לדף זה"})]})})})},P=({title:t,onMenuClick:s,onAddClick:a,showAddButton:r=!1,showBackButton:i=!1})=>{const n=J();return e.jsx("header",{className:"gradient-ocean text-white shadow-lg sticky top-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 safe-top",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-lg hover:bg-white/10 active:bg-white/20 transition-colors","aria-label":"חזור",children:e.jsx(Ct,{size:20})}),s&&e.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/10 active:bg-white/20 transition-colors","aria-label":"תפריט",children:e.jsx(ca,{size:20})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:24,className:"text-white"}),e.jsx("h1",{className:"text-xl font-bold",children:t})]})]}),r&&a&&e.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 active:bg-white/30 transition-colors","aria-label":"הוספת צלילה",children:e.jsx(T,{size:20})})]})})},Ce=[{id:"orca-swimming-pair",url:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=400&fit=crop&crop=center",alt:"זוג אורקות שוחות במים",description:"זוג אורקות שוחות יחד במים כחולים",photographer:"Vidar Nordli-Mathisen"},{id:"orca-black-white",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=center",alt:"אורקה בשחור לבן",description:"אורקה במים בצילום שחור לבן מרהיב",photographer:"Iewek Gnos"},{id:"orca-ocean-swimming",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=top",alt:"אורקה שוחה באוקיינוס",description:"אורקה שוחה באוקיינוס הכחול",photographer:"Zdeněk Macháček"},{id:"orca-daylight",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=bottom",alt:"אורקה באור יום",description:"אורקה במים באור יום טבעי",photographer:"Mike Doherty"},{id:"orca-duo",url:"https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?w=400&h=400&fit=crop&crop=center",alt:"שתי אורקות",description:"שתי אורקות שוחות בגוף מים",photographer:"Stephen Walker"},{id:"whale-jump",url:"https://images.unsplash.com/photo-1544551763-77ef2d0cfc6c?w=400&h=400&fit=crop&crop=center",alt:"לוויתן קופץ מהמים",description:"לוויתן קופץ מהמים בתנועה מרהיבה",photographer:"Rudi De Meyer"},{id:"orca-water-surface",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=faces",alt:"אורקה על פני המים",description:"אורקה במים ליד פני השטח",photographer:"Nitesh Jain"},{id:"killer-whales-trio",url:"https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?w=400&h=400&fit=crop&crop=top",alt:"שלוש אורקות",description:"שלוש אורקות צפות על המים",photographer:"Bart"},{id:"orcas-sunrise",url:"https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?w=400&h=400&fit=crop&crop=bottom",alt:"אורקות בזריחה",description:"שתי אורקות במים בזמן זריחה",photographer:"Bart"},{id:"killer-whale-top",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=entropy",alt:"אורקה מעל המים",description:"אורקה מעל פני המים",photographer:"Tim Cole"},{id:"whale-ocean-jump",url:"https://images.unsplash.com/photo-1544551763-77ef2d0cfc6c?w=400&h=400&fit=crop&crop=top",alt:"לוויתן קופץ באוקיינוס",description:"לוויתן קופץ מהמים באוקיינוס",photographer:"Lachlan Gowen"},{id:"orca-ocean-swim",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop&crop=edges",alt:"אורקה שוחה באוקיינוס",description:"אורקה שחורה לבנה שוחה באוקיינוס",photographer:"Tomáš Malík"}],Me=()=>{const t=Math.floor(Math.random()*Ce.length);return Ce[t]},Ga=t=>{const s=Ce.filter(r=>r.id!==t),a=Math.floor(Math.random()*s.length);return s[a]},Ka=({size:t="md",shape:s="rounded",showCredits:a=!1,className:r="",specificImage:i,changeOnMount:n=!0})=>{const[l,c]=N.useState(()=>i&&Ce.find(g=>g.id===i)||Me());N.useEffect(()=>{n&&!i&&c(Me())},[n,i]);const o={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24",xl:"w-32 h-32"},d={square:"",circle:"rounded-full",rounded:"rounded-lg"},u=()=>{i||c(g=>Ga(g.id))};return e.jsxs("div",{className:`relative ${r}`,children:[e.jsx("img",{src:l.url,alt:l.alt,className:`
          ${o[t]} 
          ${d[s]}
          object-cover 
          cursor-pointer 
          transition-transform 
          hover:scale-105 
          active:scale-95
        `,onClick:u,title:l.description,loading:"lazy",onError:g=>{var x;const m=g.target;m.style.display="none",(x=m.nextElementSibling)==null||x.classList.remove("hidden")}}),e.jsx("div",{className:`
          ${o[t]} 
          ${d[s]}
          bg-gradient-to-br from-blue-400 to-blue-600
          flex items-center justify-center text-white text-2xl
          cursor-pointer transition-transform hover:scale-105 active:scale-95
          hidden
        `,onClick:u,title:"🐋 אורקה",children:"🐋"}),a&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-b-lg",children:["📷 ",l.photographer||"Unsplash"]})]})};var Xa={lessThanXSeconds:{one:"פחות משנייה",two:"פחות משתי שניות",other:"פחות מ־{{count}} שניות"},xSeconds:{one:"שנייה",two:"שתי שניות",other:"{{count}} שניות"},halfAMinute:"חצי דקה",lessThanXMinutes:{one:"פחות מדקה",two:"פחות משתי דקות",other:"פחות מ־{{count}} דקות"},xMinutes:{one:"דקה",two:"שתי דקות",other:"{{count}} דקות"},aboutXHours:{one:"כשעה",two:"כשעתיים",other:"כ־{{count}} שעות"},xHours:{one:"שעה",two:"שעתיים",other:"{{count}} שעות"},xDays:{one:"יום",two:"יומיים",other:"{{count}} ימים"},aboutXWeeks:{one:"כשבוע",two:"כשבועיים",other:"כ־{{count}} שבועות"},xWeeks:{one:"שבוע",two:"שבועיים",other:"{{count}} שבועות"},aboutXMonths:{one:"כחודש",two:"כחודשיים",other:"כ־{{count}} חודשים"},xMonths:{one:"חודש",two:"חודשיים",other:"{{count}} חודשים"},aboutXYears:{one:"כשנה",two:"כשנתיים",other:"כ־{{count}} שנים"},xYears:{one:"שנה",two:"שנתיים",other:"{{count}} שנים"},overXYears:{one:"יותר משנה",two:"יותר משנתיים",other:"יותר מ־{{count}} שנים"},almostXYears:{one:"כמעט שנה",two:"כמעט שנתיים",other:"כמעט {{count}} שנים"}},Ya=function(s,a,r){if(s==="xDays"&&r!==null&&r!==void 0&&r.addSuffix&&a<=2)return r.comparison&&r.comparison>0?a===1?"מחר":"מחרתיים":a===1?"אתמול":"שלשום";var i,n=Xa[s];return typeof n=="string"?i=n:a===1?i=n.one:a===2?i=n.two:i=n.other.replace("{{count}}",String(a)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"בעוד "+i:"לפני "+i:i};const Ja=Ya;var Qa={full:"EEEE, d בMMMM y",long:"d בMMMM y",medium:"d בMMM y",short:"d.M.y"},Za={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},er={full:"{{date}} 'בשעה' {{time}}",long:"{{date}} 'בשעה' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tr={date:_e({formats:Qa,defaultWidth:"full"}),time:_e({formats:Za,defaultWidth:"full"}),dateTime:_e({formats:er,defaultWidth:"full"})};const sr=tr;var ar={lastWeek:"eeee 'שעבר בשעה' p",yesterday:"'אתמול בשעה' p",today:"'היום בשעה' p",tomorrow:"'מחר בשעה' p",nextWeek:"eeee 'בשעה' p",other:"P"},rr=function(s,a,r,i){return ar[s]};const nr=rr;var ir={narrow:["לפנה״ס","לספירה"],abbreviated:["לפנה״ס","לספירה"],wide:["לפני הספירה","לספירה"]},lr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"]},cr={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],wide:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},or={narrow:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],short:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],abbreviated:["יום א׳","יום ב׳","יום ג׳","יום ד׳","יום ה׳","יום ו׳","שבת"],wide:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"]},dr={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"}},hr={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"בצהריים",evening:"בערב",night:"בלילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"}},mr=function(s,a){var r=Number(s);if(r<=0||r>10)return String(r);var i=String(a==null?void 0:a.unit),n=["year","hour","minute","second"].indexOf(i)>=0,l=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שביעי","שמיני","תשיעי","עשירי"],c=["ראשונה","שנייה","שלישית","רביעית","חמישית","שישית","שביעית","שמינית","תשיעית","עשירית"],o=r-1;return n?c[o]:l[o]},ur={ordinalNumber:mr,era:ee({values:ir,defaultWidth:"wide"}),quarter:ee({values:lr,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:ee({values:cr,defaultWidth:"wide"}),day:ee({values:or,defaultWidth:"wide"}),dayPeriod:ee({values:dr,defaultWidth:"wide",formattingValues:hr,defaultFormattingWidth:"wide"})};const xr=ur;var gr=/^(\d+|(ראשון|שני|שלישי|רביעי|חמישי|שישי|שביעי|שמיני|תשיעי|עשירי|ראשונה|שנייה|שלישית|רביעית|חמישית|שישית|שביעית|שמינית|תשיעית|עשירית))/i,pr=/^(\d+|רא|שנ|של|רב|ח|שי|שב|שמ|ת|ע)/i,vr={narrow:/^ל(ספירה|פנה״ס)/i,abbreviated:/^ל(ספירה|פנה״ס)/i,wide:/^ל(פני ה)?ספירה/i},fr={any:[/^לפ/i,/^לס/i]},yr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^רבעון [1234]/i},jr={any:[/1/i,/2/i,/3/i,/4/i]},br={narrow:/^\d+/i,abbreviated:/^(ינו|פבר|מרץ|אפר|מאי|יוני|יולי|אוג|ספט|אוק|נוב|דצמ)׳?/i,wide:/^(ינואר|פברואר|מרץ|אפריל|מאי|יוני|יולי|אוגוסט|ספטמבר|אוקטובר|נובמבר|דצמבר)/i},Nr={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^ינ/i,/^פ/i,/^מר/i,/^אפ/i,/^מא/i,/^יונ/i,/^יול/i,/^אוג/i,/^ס/i,/^אוק/i,/^נ/i,/^ד/i]},wr={narrow:/^[אבגדהוש]׳/i,short:/^[אבגדהוש]׳/i,abbreviated:/^(שבת|יום (א|ב|ג|ד|ה|ו)׳)/i,wide:/^יום (ראשון|שני|שלישי|רביעי|חמישי|שישי|שבת)/i},Er={abbreviated:[/א׳$/i,/ב׳$/i,/ג׳$/i,/ד׳$/i,/ה׳$/i,/ו׳$/i,/^ש/i],wide:[/ן$/i,/ני$/i,/לישי$/i,/עי$/i,/מישי$/i,/שישי$/i,/ת$/i],any:[/^א/i,/^ב/i,/^ג/i,/^ד/i,/^ה/i,/^ו/i,/^ש/i]},Cr={any:/^(אחר ה|ב)?(חצות|צהריים|בוקר|ערב|לילה|אחה״צ|לפנה״צ)/i},kr={any:{am:/^לפ/i,pm:/^אחה/i,midnight:/^ח/i,noon:/^צ/i,morning:/בוקר/i,afternoon:/בצ|אחר/i,evening:/ערב/i,night:/לילה/i}},Sr=["רא","שנ","של","רב","ח","שי","שב","שמ","ת","ע"],Ar={ordinalNumber:ms({matchPattern:gr,parsePattern:pr,valueCallback:function(s){var a=parseInt(s,10);return isNaN(a)?Sr.indexOf(s)+1:a}}),era:te({matchPatterns:vr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any"}),quarter:te({matchPatterns:yr,defaultMatchWidth:"wide",parsePatterns:jr,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:te({matchPatterns:br,defaultMatchWidth:"wide",parsePatterns:Nr,defaultParseWidth:"any"}),day:te({matchPatterns:wr,defaultMatchWidth:"wide",parsePatterns:Er,defaultParseWidth:"any"}),dayPeriod:te({matchPatterns:Cr,defaultMatchWidth:"any",parsePatterns:kr,defaultParseWidth:"any"})};const zr=Ar;var Dr={code:"he",formatDistance:Ja,formatLong:sr,formatRelative:nr,localize:xr,match:zr,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ae=Dr,_r=()=>{const t=J(),{diveEntries:s,isLoading:a}=Q();O();const r=s.slice(0,3),i=s.length,n=s.reduce((c,o)=>c+o.catches.reduce((d,u)=>d+u.quantity,0),0),l=s.length>0?s.reduce((c,o)=>c+o.depth,0)/s.length:0;return a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"אורקה - יומן צלילה"}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ne,{size:"lg",text:"טוען נתונים..."})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"אורקה - יומן צלילה"}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ka,{size:"xl",shape:"circle",className:"mx-auto mb-4",showCredits:!1}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"ברוכים הבאים לאורקה"}),e.jsx("p",{className:"text-gray-600",children:"יומן הצלילה המקצועי שלכם"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"💡 לחצו על התמונה לתמונה חדשה"})]}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"פעולות מהירות"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(w,{variant:"primary",fullWidth:!0,onClick:()=>t("/add"),className:"h-16",children:[e.jsx(T,{size:20}),e.jsx("span",{children:"צלילה חדשה"})]}),e.jsxs(w,{variant:"secondary",fullWidth:!0,onClick:()=>t("/entries"),className:"h-16",children:[e.jsx(St,{size:20}),e.jsx("span",{children:"יומן צלילות"})]})]})]}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"סטטיסטיקות כלליות"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-ocean-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:e.jsx(A,{className:"text-ocean-600"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:i}),e.jsx("div",{className:"text-sm text-gray-600",children:"צלילות"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-coral-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:e.jsx(X,{className:"text-coral-600"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n}),e.jsx("div",{className:"text-sm text-gray-600",children:"דגים"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:e.jsx(ie,{className:"text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:l.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"עומק ממוצע"})]})]})]}),r.length>0&&e.jsxs(b,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"צלילות אחרונות"}),e.jsx(w,{variant:"ghost",onClick:()=>t("/entries"),className:"text-ocean-600",children:"צפייה בכל"})]}),e.jsx("div",{className:"space-y-3",children:r.map(c=>e.jsxs("div",{onClick:()=>t(`/entries/${c.id}`),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:c.location}),e.jsx("div",{className:"text-sm text-gray-600",children:K(new Date(c.date),"dd/MM/yyyy",{locale:ae})})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-sm font-medium text-ocean-600",children:[c.depth," מ'"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c.catches.length," דגים"]})]})]},c.id))})]}),i===0&&e.jsxs(b,{className:"text-center py-8",children:[e.jsx(A,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"עדיין לא יש לכם צלילות"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"התחילו לתעד את חוויות הצלילה שלכם"}),e.jsxs(w,{variant:"primary",onClick:()=>t("/add"),children:[e.jsx(T,{size:16}),"הוספת צלילה ראשונה"]})]}),i>0&&e.jsxs(w,{variant:"secondary",fullWidth:!0,onClick:()=>t("/stats"),className:"h-12",children:[e.jsx(He,{size:20}),e.jsx("span",{children:"צפייה בסטטיסטיקות מפורטות"})]})]})]})},Ke=[{condition:"sunny",label:"שמש",icon:"sun"},{condition:"cloudy",label:"מעונן",icon:"cloud"},{condition:"rainy",label:"גשום",icon:"rain"},{condition:"stormy",label:"סוער",icon:"storm"},{condition:"foggy",label:"ערפילי",icon:"fog"}],Y=[{type:"speargun",label:"רובה צלילה",icon:"speargun"},{type:"pole_spear",label:"פול ספייר",icon:"pole"},{type:"hook",label:"חכה",icon:"hook"},{type:"net",label:"רשת",icon:"net"},{type:"other",label:"אחר",icon:"other"}],Dt=[{value:"none",label:"ללא זרם"},{value:"weak",label:"זרם חלש"},{value:"medium",label:"זרם בינוני"},{value:"strong",label:"זרם חזק"}],Lr=["לברק","דניס","בורי","סרגוס","קרפיון","טונה","בקלה","שפמנון","חרוב","מלכה","קציר","שמנון","כוסבר","פרידה","ספר","סולטנית","ברבוניה","ליטרינוס","אוכף","פרפור"],Ir=["אילת - ספינת הדולפינים","אילת - ריף הדולפינים","אילת - גן לאומי אלמוגים","אילת - חוף מגדן","חיפה - חוף דדו","תל אביב - צוק תל אביב","נתניה - חוף ג'מבל","אשקלון - חוף דלילה","עכו - חוף הזהב","נהריה - חוף גליל","כנרת - גינוסר","כנרת - אמנון","כנרת - מגדל","ים המלח - עין גדי"],Te={masks:["מסכה סיליקון שחורה","מסכה סיליקון שקופה","מסכה חומר שחור","מסכה עם עדשות תיקון"],fins:["סנפירים פלסטיק","סנפירים פייברגלס","סנפירים קרבון","סנפירים מפוצלים"],suits:['חליפה 3 מ"מ','חליפה 5 מ"מ','חליפה 7 מ"מ',"חליפה יבשה","בגד ים"]},Fr=({entry:t,onClick:s})=>{const a=t.catches.reduce((c,o)=>c+o.quantity,0),r=Y.find(c=>c.type===t.fishingType);Ke.find(c=>c.condition===t.weather.condition);const i=(c,o)=>{try{const d=new Date(`${c}T${o}`);return{date:K(d,"dd/MM/yyyy",{locale:ae}),time:K(d,"HH:mm",{locale:ae})}}catch{return{date:c,time:o}}},{date:n,time:l}=i(t.date,t.time);return e.jsx(b,{hover:!0,onClick:s,className:"cursor-pointer",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ve,{className:"text-coral-500 flex-shrink-0",size:14}),e.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[e.jsx("span",{children:n}),e.jsx("span",{children:l})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"text-yellow-400",size:14}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.rating})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 py-2 border-t border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"text-ocean-500 mx-auto mb-1",size:16}),e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[t.depth,"מ'"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"עומק"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(ie,{className:"text-blue-500 mx-auto mb-1",size:16}),e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[t.duration,"ד'"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"משך"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(V,{className:"text-green-500 mx-auto mb-1",size:16}),e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[t.visibility,"מ'"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"ראות"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"text-coral-500 mx-auto mb-1",size:16}),e.jsx("div",{className:"text-sm font-medium text-gray-800",children:a}),e.jsx("div",{className:"text-xs text-gray-500",children:"דגים"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Ae,{size:12}),e.jsxs("span",{children:[t.weather.waterTemperature,"°C"]})]}),r&&e.jsx("div",{className:"text-gray-600",children:r.label})]}),t.photos.length>0&&e.jsxs("div",{className:"flex items-center gap-1 text-purple-500",children:[e.jsx(Be,{size:12}),e.jsx("span",{className:"text-xs",children:t.photos.length})]})]}),t.catches.length>0&&e.jsxs("div",{className:"border-t border-gray-100 pt-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"דגים שנתפסו:"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[t.catches.slice(0,3).map((c,o)=>e.jsxs("span",{children:[c.species,c.quantity>1&&` (${c.quantity})`,o<Math.min(t.catches.length,3)-1&&", "]},c.id)),t.catches.length>3&&e.jsxs("span",{className:"text-gray-500",children:[" ","ועוד ",t.catches.length-3,"..."]})]})]})]})})},Rr=({filters:t,onFiltersChange:s})=>{const a=(r,i)=>{s({...t,[r]:i||void 0})};return e.jsxs(b,{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"מסננים"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(C,{label:"מתאריך",type:"date",value:t.dateFrom||"",onChange:r=>a("dateFrom",r.target.value),fullWidth:!1}),e.jsx(C,{label:"עד תאריך",type:"date",value:t.dateTo||"",onChange:r=>a("dateTo",r.target.value),fullWidth:!1})]}),e.jsx(C,{label:"מיקום",value:t.location||"",onChange:r=>a("location",r.target.value),placeholder:"חיפוש לפי מיקום..."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"שיטת דיג"}),e.jsxs("select",{className:"input",value:t.fishingType||"",onChange:r=>a("fishingType",r.target.value),children:[e.jsx("option",{value:"",children:"כל השיטות"}),Y.map(r=>e.jsx("option",{value:r.type,children:r.label},r.type))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(C,{label:"עומק מינימלי (מ')",type:"number",min:"0",value:t.minDepth||"",onChange:r=>a("minDepth",r.target.value?parseFloat(r.target.value):void 0),fullWidth:!1}),e.jsx(C,{label:"עומק מקסימלי (מ')",type:"number",min:"0",value:t.maxDepth||"",onChange:r=>a("maxDepth",r.target.value?parseFloat(r.target.value):void 0),fullWidth:!1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"דירוג מינימלי"}),e.jsxs("select",{className:"input",value:t.minRating||"",onChange:r=>a("minRating",r.target.value?parseInt(r.target.value):void 0),children:[e.jsx("option",{value:"",children:"כל הדירוגים"}),e.jsx("option",{value:"1",children:"1 כוכב ומעלה"}),e.jsx("option",{value:"2",children:"2 כוכבים ומעלה"}),e.jsx("option",{value:"3",children:"3 כוכבים ומעלה"}),e.jsx("option",{value:"4",children:"4 כוכבים ומעלה"}),e.jsx("option",{value:"5",children:"5 כוכבים בלבד"})]})]})]})]})},Mr=()=>{const t=J(),{diveEntries:s,isLoading:a}=Q(),{trackSearch:r,trackFilter:i}=na(),[n,l]=N.useState(!1),[c,o]=N.useState(""),[d,u]=N.useState({}),g=s.filter(h=>{if(c){const v=c.toLowerCase();if(!(h.location.toLowerCase().includes(v)||h.notes.toLowerCase().includes(v)||h.catches.some(k=>k.species.toLowerCase().includes(v))))return!1}return!(d.dateFrom&&h.date<d.dateFrom||d.dateTo&&h.date>d.dateTo||d.location&&!h.location.toLowerCase().includes(d.location.toLowerCase())||d.fishingType&&h.fishingType!==d.fishingType||d.minDepth&&h.depth<d.minDepth||d.maxDepth&&h.depth>d.maxDepth||d.minRating&&h.rating<d.minRating)}),m=()=>{t("/add")},x=h=>{t(`/entries/${h}`)},y=()=>{u({}),o("")};N.useEffect(()=>{if(c){const h=setTimeout(()=>{r(c,g.length)},500);return()=>clearTimeout(h)}},[c,g.length,r]);const p=h=>{u(h),Object.entries(h).forEach(([v,j])=>{j!==void 0&&j!==""&&i(v,j.toString())})},E=Object.values(d).some(h=>h!==void 0&&h!=="")||c;return a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"יומן צלילות",showAddButton:!0,onAddClick:m}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ne,{size:"lg",text:"טוען צלילות..."})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"יומן צלילות",showAddButton:!0,onAddClick:m}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(b,{padding:"sm",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"חיפוש לפי מיקום, הערות או סוג דג...",value:c,onChange:h=>o(h.target.value),className:"input pr-10"}),e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(w,{type:"button",variant:n?"primary":"secondary",size:"sm",onClick:()=>l(!n),children:[e.jsx(ba,{size:14}),"מסננים ",E&&"(פעיל)"]}),E&&e.jsx(w,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"text-coral-600",children:"ניקוי מסננים"})]})]})}),n&&e.jsx(Rr,{filters:d,onFiltersChange:p}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[g.length," מתוך ",s.length," צלילות"]}),E&&e.jsx("span",{className:"text-ocean-600 font-medium",children:"מסוננות"})]}),g.length>0?e.jsx("div",{className:"space-y-3",children:g.map(h=>e.jsx(Fr,{entry:h,onClick:()=>x(h.id)},h.id))}):s.length===0?e.jsxs(b,{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(T,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"עדיין אין צלילות ביומן"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"התחילו לתעד את חוויות הצלילה שלכם"}),e.jsxs(w,{variant:"primary",onClick:m,children:[e.jsx(T,{size:16}),"הוספת צלילה ראשונה"]})]}):e.jsxs(b,{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(dt,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"לא נמצאו תוצאות"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"נסו לשנות את פרמטרי החיפוש או המסננים"}),e.jsx(w,{variant:"secondary",onClick:y,children:"ניקוי מסננים"})]})]})]})},Tr=({data:t,errors:s,onUpdate:a})=>{var r,i;return e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"text-ocean-500"}),"פרטי צלילה בסיסיים"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(C,{label:"תאריך",type:"date",value:t.date||"",onChange:n=>a("date",n.target.value),error:s.date,required:!0}),e.jsx(C,{label:"שעה",type:"time",value:t.time||"",onChange:n=>a("time",n.target.value),error:s.time,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"מיקום צלילה"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{list:"locations",className:"input pr-10",value:t.location||"",onChange:n=>a("location",n.target.value),placeholder:"בחרו מיקום או הקלידו חדש...",required:!0}),e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("datalist",{id:"locations",children:Ir.map(n=>e.jsx("option",{value:n},n))})]}),s.location&&e.jsx("p",{className:"text-sm text-coral-500 font-medium mt-1",children:s.location})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(C,{label:"עומק (מטר)",type:"number",min:"0",step:"0.1",value:t.depth||"",onChange:n=>a("depth",parseFloat(n.target.value)||0),error:s.depth,icon:e.jsx(A,{}),required:!0}),e.jsx(C,{label:"משך (דקות)",type:"number",min:"0",value:t.duration||"",onChange:n=>a("duration",parseInt(n.target.value)||0),error:s.duration,icon:e.jsx(ie,{}),required:!0}),e.jsx(C,{label:"ראות (מטר)",type:"number",min:"0",step:"0.1",value:t.visibility||"",onChange:n=>a("visibility",parseFloat(n.target.value)||0),icon:e.jsx(V,{})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"קואורדינטות (אופציונלי)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(C,{placeholder:"קו רוחב",type:"number",step:"any",value:((r=t.coordinates)==null?void 0:r.lat)||"",onChange:n=>a("coordinates",{...t.coordinates,lat:parseFloat(n.target.value)||void 0})}),e.jsx(C,{placeholder:"קו אורך",type:"number",step:"any",value:((i=t.coordinates)==null?void 0:i.lng)||"",onChange:n=>a("coordinates",{...t.coordinates,lng:parseFloat(n.target.value)||void 0})})]})]})]})]})},Pr=({data:t,onUpdate:s})=>{const a={sunny:Da,cloudy:ga,rainy:ua,stormy:oa,foggy:za};return e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(xa,{className:"text-orange-500"}),"תנאי מזג אוויר"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"מזג אוויר"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ke.map(r=>{const i=a[r.condition],n=t.condition===r.condition;return e.jsxs("button",{type:"button",onClick:()=>s("condition",r.condition),className:`p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-2 ${n?"border-ocean-500 bg-ocean-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(i,{size:20,className:n?"text-ocean-600":"text-gray-500"}),e.jsx("span",{className:`text-xs ${n?"text-ocean-600 font-medium":"text-gray-600"}`,children:r.label})]},r.condition)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(C,{label:"טמפרטורת אוויר (°C)",type:"number",value:t.temperature||"",onChange:r=>s("temperature",parseInt(r.target.value)||0),icon:e.jsx(Ae,{})}),e.jsx(C,{label:"טמפרטורת מים (°C)",type:"number",value:t.waterTemperature||"",onChange:r=>s("waterTemperature",parseInt(r.target.value)||0),icon:e.jsx(A,{})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(C,{label:"מהירות רוח (קמ/ש)",type:"number",min:"0",value:t.windSpeed||"",onChange:r=>s("windSpeed",parseInt(r.target.value)||0),icon:e.jsx(Ia,{})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"כיוון רוח"}),e.jsxs("select",{className:"input",value:t.windDirection||"צפון",onChange:r=>s("windDirection",r.target.value),children:[e.jsx("option",{value:"צפון",children:"צפון"}),e.jsx("option",{value:"צפון מזרח",children:"צפון מזרח"}),e.jsx("option",{value:"מזרח",children:"מזרח"}),e.jsx("option",{value:"דרום מזרח",children:"דרום מזרח"}),e.jsx("option",{value:"דרום",children:"דרום"}),e.jsx("option",{value:"דרום מערב",children:"דרום מערב"}),e.jsx("option",{value:"מערב",children:"מערב"}),e.jsx("option",{value:"צפון מערב",children:"צפון מערב"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(C,{label:"גובה גלים (מטר)",type:"number",min:"0",step:"0.1",value:t.waveHeight||"",onChange:r=>s("waveHeight",parseFloat(r.target.value)||0),icon:e.jsx(A,{})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"עוצמת זרם"}),e.jsx("select",{className:"input",value:t.current||"none",onChange:r=>s("current",r.target.value),children:Dt.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})]})]})]})},Or=({data:t,onUpdate:s})=>{const[a,r]=N.useState(""),i=()=>{if(a.trim()){const l=t.gear||[];s("gear",[...l,a.trim()]),r("")}},n=l=>{const c=t.gear||[];s("gear",c.filter((o,d)=>d!==l))};return e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(We,{className:"text-gray-600"}),"ציוד צלילה"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"מסכה"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{list:"masks",className:"input",value:t.mask||"",onChange:l=>s("mask",l.target.value),placeholder:"בחרו מסכה או הקלידו..."}),e.jsx("datalist",{id:"masks",children:Te.masks.map(l=>e.jsx("option",{value:l},l))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"סנפירים"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{list:"fins",className:"input",value:t.fins||"",onChange:l=>s("fins",l.target.value),placeholder:"בחרו סנפירים או הקלידו..."}),e.jsx("datalist",{id:"fins",children:Te.fins.map(l=>e.jsx("option",{value:l},l))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"חליפה"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{list:"suits",className:"input",value:t.suit||"",onChange:l=>s("suit",l.target.value),placeholder:"בחרו חליפה או הקלידו..."}),e.jsx("datalist",{id:"suits",children:Te.suits.map(l=>e.jsx("option",{value:l},l))})]})]}),e.jsx(C,{label:'משקל (ק"ג)',type:"number",min:"0",step:"0.5",value:t.weight||"",onChange:l=>s("weight",parseFloat(l.target.value)||0),icon:e.jsx(Ge,{})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ציוד נוסף"}),t.gear&&t.gear.length>0&&e.jsx("div",{className:"mb-3 space-y-2",children:t.gear.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"flex-1 text-sm",children:l}),e.jsx(w,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(c),className:"text-coral-500 hover:text-coral-600 p-1",children:e.jsx(ce,{size:12})})]},c))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{fullWidth:!0,placeholder:"הוסיפו ציוד נוסף...",value:a,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),i())}),e.jsx(w,{type:"button",variant:"secondary",onClick:i,disabled:!a.trim(),className:"px-3",children:e.jsx(T,{size:14})})]})]})]})]})},$r=({catches:t,fishingType:s,onFishingTypeChange:a,onAddCatch:r,onRemoveCatch:i})=>{var g;const[n,l]=N.useState(!1),[c,o]=N.useState({species:"",weight:void 0,length:void 0,quantity:1,method:s,released:!1,notes:""}),d=()=>{o({species:"",weight:void 0,length:void 0,quantity:1,method:s,released:!1,notes:""}),l(!1)},u=()=>{var m;if((m=c.species)!=null&&m.trim()){const x={id:gt(),species:c.species,weight:c.weight,length:c.length,quantity:c.quantity||1,method:c.method||s,released:c.released||!1,notes:c.notes};r(x),d()}};return e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"text-coral-500"}),"דיג ותוצאות"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"שיטת דיג"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Y.map(m=>{const x=s===m.type;return e.jsx("button",{type:"button",onClick:()=>a(m.type),className:`p-3 rounded-lg border-2 transition-all text-center ${x?"border-ocean-500 bg-ocean-50 text-ocean-700":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("div",{className:`text-sm font-medium ${x?"text-ocean-700":"text-gray-700"}`,children:m.label})},m.type)})})]}),t.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-700",children:"דגים שנתפסו:"}),t.map(m=>{var x;return e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-800",children:m.species}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",m.quantity," יח')"]}),m.released&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"שוחרר"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[m.weight&&`${m.weight}ג • `,m.length&&`${m.length}ס״מ • `,(x=Y.find(y=>y.type===m.method))==null?void 0:x.label]}),m.notes&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:m.notes})]}),e.jsx(w,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(m.id),className:"text-coral-500 hover:text-coral-600",children:e.jsx(ce,{size:14})})]})},m.id)})]}),n?e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"סוג דג"}),e.jsx("input",{list:"fish-species",className:"input",value:c.species||"",onChange:m=>o({...c,species:m.target.value}),placeholder:"בחרו דג או הקלידו..."}),e.jsx("datalist",{id:"fish-species",children:Lr.map(m=>e.jsx("option",{value:m},m))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(C,{label:"משקל (גרם)",type:"number",min:"0",value:c.weight||"",onChange:m=>o({...c,weight:m.target.value?parseInt(m.target.value):void 0}),icon:e.jsx(Ge,{}),fullWidth:!1}),e.jsx(C,{label:"אורך (ס״מ)",type:"number",min:"0",value:c.length||"",onChange:m=>o({...c,length:m.target.value?parseInt(m.target.value):void 0}),icon:e.jsx(At,{}),fullWidth:!1}),e.jsx(C,{label:"כמות",type:"number",min:"1",value:c.quantity||1,onChange:m=>o({...c,quantity:parseInt(m.target.value)||1}),fullWidth:!1})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:c.released||!1,onChange:m=>o({...c,released:m.target.checked}),className:"rounded border-gray-300 text-ocean-600 focus:ring-ocean-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"דג שוחרר"})]})}),e.jsx(C,{label:"הערות (אופציונלי)",value:c.notes||"",onChange:m=>o({...c,notes:m.target.value}),placeholder:"הערות על הדג..."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(w,{type:"button",variant:"primary",onClick:u,disabled:!((g=c.species)!=null&&g.trim()),children:[e.jsx(T,{size:14}),"הוספת דג"]}),e.jsx(w,{type:"button",variant:"secondary",onClick:d,children:"ביטול"})]})]}):e.jsxs(w,{type:"button",variant:"secondary",fullWidth:!0,onClick:()=>l(!0),className:"h-12 border-2 border-dashed border-gray-300 hover:border-ocean-300",children:[e.jsx(T,{size:16}),"הוספת דג"]})]})]})},Ur=({photos:t,onAddPhoto:s,onRemovePhoto:a})=>{const r=N.useRef(null),i=l=>{const c=l.target.files;c&&Array.from(c).forEach(o=>{if(o.type.startsWith("image/")){const d=new FileReader;d.onload=u=>{var g;(g=u.target)!=null&&g.result&&s(u.target.result)},d.readAsDataURL(o)}}),r.current&&(r.current.value="")},n=()=>{var l;(l=r.current)==null||l.click()};return e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Be,{className:"text-purple-500"}),"תמונות"]}),e.jsxs("div",{className:"space-y-4",children:[t.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map((l,c)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:l,alt:`תמונה ${c+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),e.jsx(w,{type:"button",variant:"danger",size:"sm",onClick:()=>a(c),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 h-8 w-8",children:e.jsx(ce,{size:12})})]},c))}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,onChange:i,className:"hidden"}),e.jsxs(w,{type:"button",variant:"secondary",fullWidth:!0,onClick:n,className:"h-16 border-2 border-dashed border-gray-300 hover:border-ocean-300 flex-col gap-2",children:[e.jsx(wa,{size:24,className:"text-gray-400"}),e.jsx("span",{children:"הוספת תמונות"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"ניתן להוסיף מספר תמונות בבת אחת"})]}),t.length>0&&e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[t.length," תמונות נוספו"]})]})]})},Br=({notes:t,rating:s,onNotesChange:a,onRatingChange:r})=>e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(zt,{className:"text-yellow-500"}),"הערות ודירוג"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"דירוג הצלילה"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(i=>e.jsx("button",{type:"button",onClick:()=>r(i),className:`p-1 rounded transition-colors ${i<=s?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-gray-400"}`,children:e.jsx(Se,{size:24})},i)),e.jsxs("span",{className:"mr-2 text-sm text-gray-600",children:["(",s," מתוך 5)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"הערות כלליות"}),e.jsx("textarea",{value:t,onChange:i=>a(i.target.value),placeholder:"ספרו על הצלילה... מה ראיתם? איך הרגשתם? מה ייחד את הצלילה הזו?",className:"w-full h-24 p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-ocean-500 focus:border-transparent",maxLength:500}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-left",children:[t.length,"/500 תווים"]})]})]})]}),Hr=({initialData:t,onSubmit:s,onCancel:a,isEditing:r=!1,onSaveAndShare:i})=>{const[n,l]=N.useState(t),[c,o]=N.useState({}),d=(h,v)=>{l(j=>({...j,[h]:v})),c[h]&&o(j=>({...j,[h]:""}))},u=(h,v,j)=>{l(k=>({...k,[h]:{...k[h],[v]:j}}))},g=()=>{var v;const h={};return n.date||(h.date="תאריך נדרש"),n.time||(h.time="שעה נדרשת"),(v=n.location)!=null&&v.trim()||(h.location="מיקום נדרש"),(!n.depth||n.depth<=0)&&(h.depth="עומק חייב להיות גדול מ-0"),(!n.duration||n.duration<=0)&&(h.duration="משך הצלילה חייב להיות גדול מ-0"),o(h),Object.keys(h).length===0},m=h=>{h.preventDefault(),g()&&s(n)},x=h=>{const v=n.catches||[];d("catches",[...v,h])},y=h=>{const v=n.catches||[];d("catches",v.filter(j=>j.id!==h))},p=h=>{const v=n.photos||[];d("photos",[...v,h])},E=h=>{const v=n.photos||[];d("photos",v.filter((j,k)=>k!==h))};return e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsx(Tr,{data:n,errors:c,onUpdate:d}),e.jsx(Pr,{data:n.weather||{},onUpdate:(h,v)=>u("weather",h,v)}),e.jsx(Or,{data:n.equipment||{},onUpdate:(h,v)=>u("equipment",h,v)}),e.jsx($r,{catches:n.catches||[],fishingType:n.fishingType||"speargun",onFishingTypeChange:h=>d("fishingType",h),onAddCatch:x,onRemoveCatch:y}),e.jsx(Ur,{photos:n.photos||[],onAddPhoto:p,onRemovePhoto:E}),e.jsx(Br,{notes:n.notes||"",rating:n.rating||5,onNotesChange:h=>d("notes",h),onRatingChange:h=>d("rating",h)}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(w,{type:"submit",variant:"primary",fullWidth:!0,className:"h-12",children:[e.jsx(ka,{size:20}),r?"עדכון צלילה":"שמירת צלילה"]}),e.jsx(w,{type:"button",variant:"secondary",onClick:a,className:"h-12 px-6",children:e.jsx(ce,{size:20})})]}),!r&&i&&e.jsxs(w,{type:"button",onClick:()=>i(n),className:"w-full h-12 bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-2",children:[e.jsx(ia,{size:20}),"שמירה ושיתוף לקהילת אורקה"]})]})})]})},mt=()=>{const t=J(),{diveEntries:s,addEntry:a,updateEntry:r}=Q(),{user:i}=O(),{id:n}=xt(),l=!!n,c=l?s.find(m=>m.id===n):void 0,[o,d]=N.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),location:"",depth:0,duration:0,visibility:0,weather:{condition:"sunny",temperature:25,waterTemperature:22,windSpeed:0,windDirection:"צפון",waveHeight:0,current:"none"},equipment:{mask:"",fins:"",suit:"",weight:0,gear:[]},fishingType:"speargun",catches:[],photos:[],notes:"",rating:5});N.useEffect(()=>{c&&d(c)},[c]);const u=async m=>{console.log("handleSubmit called with:",m),console.log("Current user:",i);const x={id:l?n:gt(),userId:(i==null?void 0:i.uid)||"anonymous",...m,createdAt:l?c.createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("Final entry to save:",x);try{l?(console.log("Updating entry..."),await r(x)):(console.log("Adding new entry..."),await a(x)),console.log("Entry saved successfully!"),t("/entries")}catch(y){console.error("Error saving entry:",y),alert("שגיאה בשמירת הצלילה: "+y.message)}},g=()=>{t(-1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:l?"עריכת צלילה":"צלילה חדשה"}),e.jsx("div",{className:"p-4",children:e.jsx(Hr,{initialData:o,onSubmit:u,onCancel:g,isEditing:l})})]})},Wr=()=>{const{diveEntries:t,isLoading:s}=Q(),a=N.useMemo(()=>{if(t.length===0)return{totalDives:0,totalFish:0,totalDuration:0,avgDepth:0,maxDepth:0,avgVisibility:0,avgRating:0,avgWaterTemp:0,fishBySpecies:{},divesByMethod:{},divesByMonth:{},recentActivity:0};const n=t.length,l=t.reduce((v,j)=>v+j.catches.reduce((k,$)=>k+$.quantity,0),0),c=t.reduce((v,j)=>v+j.duration,0),o=t.reduce((v,j)=>v+j.depth,0)/n,d=Math.max(...t.map(v=>v.depth)),u=t.reduce((v,j)=>v+j.visibility,0)/n,g=t.reduce((v,j)=>v+j.rating,0)/n,m=t.reduce((v,j)=>v+j.weather.waterTemperature,0)/n,x={};t.forEach(v=>{v.catches.forEach(j=>{x[j.species]=(x[j.species]||0)+j.quantity})});const y={};t.forEach(v=>{y[v.fishingType]=(y[v.fishingType]||0)+1});const p={};t.forEach(v=>{const j=K(st(v.date),"yyyy-MM");p[j]=(p[j]||0)+1});const E=new Date;E.setDate(E.getDate()-30);const h=t.filter(v=>st(v.date)>=E).length;return{totalDives:n,totalFish:l,totalDuration:c,avgDepth:o,maxDepth:d,avgVisibility:u,avgRating:g,avgWaterTemp:m,fishBySpecies:x,divesByMethod:y,divesByMonth:p,recentActivity:h}},[t]),r=Object.entries(a.fishBySpecies).sort(([,n],[,l])=>l-n).slice(0,5),i=Object.entries(a.divesByMethod).map(([n,l])=>{var c;return{method:((c=Y.find(o=>o.type===n))==null?void 0:c.label)||n,count:l}}).sort((n,l)=>l.count-n.count);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"סטטיסטיקות"}),e.jsx("div",{className:"p-4 space-y-6",children:s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ne,{size:"lg",text:"טוען סטטיסטיקות..."})}):t.length===0?e.jsxs(b,{className:"text-center py-12",children:[e.jsx(He,{className:"text-gray-400 mx-auto mb-4",size:48}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"אין עדיין נתונים לסטטיסטיקות"}),e.jsx("p",{className:"text-gray-500",children:"הוסיפו צלילות כדי לראות סטטיסטיקות מפורטות"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"bg-ocean-100 rounded-full w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:e.jsx(A,{className:"text-ocean-600",size:24})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a.totalDives}),e.jsx("div",{className:"text-sm text-gray-600",children:"צלילות"})]}),e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"bg-coral-100 rounded-full w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:e.jsx(X,{className:"text-coral-600",size:24})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a.totalFish}),e.jsx("div",{className:"text-sm text-gray-600",children:"דגים נתפסו"})]}),e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:e.jsx(ie,{className:"text-blue-600",size:24})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:Math.round(a.totalDuration/60)}),e.jsx("div",{className:"text-sm text-gray-600",children:"שעות במים"})]}),e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 rounded-full w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:e.jsx(Se,{className:"text-yellow-500",size:24})}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a.avgRating.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"דירוג ממוצע"})]})]}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"נתונים מפורטים"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"text-ocean-500"}),e.jsx("span",{children:"עומק ממוצע"})]}),e.jsxs("span",{className:"font-semibold",children:[a.avgDepth.toFixed(1)," מ'"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"text-ocean-700"}),e.jsx("span",{children:"עומק מקסימלי"})]}),e.jsxs("span",{className:"font-semibold",children:[a.maxDepth," מ'"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"text-green-500"}),e.jsx("span",{children:"ראות ממוצעת"})]}),e.jsxs("span",{className:"font-semibold",children:[a.avgVisibility.toFixed(1)," מ'"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"text-blue-500"}),e.jsx("span",{children:"טמפ' מים ממוצעת"})]}),e.jsxs("span",{className:"font-semibold",children:[a.avgWaterTemp.toFixed(1),"°C"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(da,{className:"text-purple-500"}),e.jsx("span",{children:"צלילות ב-30 הימים האחרונים"})]}),e.jsx("span",{className:"font-semibold",children:a.recentActivity})]})]})]}),r.length>0&&e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"דגים מובילים"}),e.jsx("div",{className:"space-y-3",children:r.map(([n,l],c)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-coral-100 text-coral-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:c+1}),e.jsx("span",{className:"font-medium",children:n})]}),e.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-semibold",children:l})]},n))})]}),i.length>0&&e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"שיטות דיג"}),e.jsx("div",{className:"space-y-3",children:i.map(({method:n,count:l},c)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:n}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded-full h-2 w-20",children:e.jsx("div",{className:"bg-ocean-500 h-2 rounded-full",style:{width:`${l/Math.max(...i.map(o=>o.count))*100}%`}})}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-semibold min-w-[2rem] text-center",children:l})]})]},n))})]}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"גלריית אורקות"}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(OrcaImage,{size:"lg",shape:"rounded",specificImage:"orca-underwater"}),e.jsx(OrcaImage,{size:"lg",shape:"rounded",specificImage:"orca-jumping"}),e.jsx(OrcaImage,{size:"lg",shape:"rounded",specificImage:"orca-norway-sunrise"}),e.jsx(OrcaImage,{size:"lg",shape:"rounded",specificImage:"orca-antarctica"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"תמונות מקצועיות מ-Getty Images"})]})]})})]})},_t=({title:t,message:s,onConfirm:a,onCancel:r})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsx(b,{className:"w-full max-w-md",onClick:i=>i.stopPropagation(),children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-coral-100 rounded-full flex items-center justify-center",children:e.jsx(le,{className:"text-coral-600",size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:s})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(w,{variant:"danger",fullWidth:!0,onClick:a,children:"מחיקה"}),e.jsx(w,{variant:"secondary",fullWidth:!0,onClick:r,children:"ביטול"})]})]})})}),Vr=()=>{const{diveEntries:t,clearAllEntries:s,importEntries:a,exportEntries:r}=Q(),{signOut:i,getUserDisplayName:n,isAnonymous:l}=O(),[c,o]=N.useState(!1),[d,u]=N.useState(""),g=()=>{r()},m=h=>{var k;const v=(k=h.target.files)==null?void 0:k[0];if(!v)return;const j=new FileReader;j.onload=async $=>{var q;try{const H=JSON.parse((q=$.target)==null?void 0:q.result);if(!Array.isArray(H))throw new Error("הקובץ חייב להכיל מערך של צלילות");const W=H.filter(oe=>oe.id&&oe.date&&oe.location&&typeof oe.depth=="number");if(W.length===0)throw new Error("לא נמצאו צלילות תקינות בקובץ");await a(W),u(""),h.target.value="",alert(`יובאו בהצלחה ${W.length} צלילות`)}catch(H){u(H instanceof Error?H.message:"שגיאה בקריאת הקובץ")}},j.readAsText(v)},x=async()=>{try{await s(),o(!1)}catch(h){console.error("Error clearing data:",h)}},y=async()=>{try{await i()}catch(h){console.error("Error signing out:",h)}},p="1.0.0",E=new Date().toLocaleDateString("he-IL");return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"הגדרות"}),e.jsxs("div",{className:"p-4 space-y-6",children:[!l&&e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"text-blue-500"}),"פרטי משתמש"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"משתמש מחובר"}),e.jsx("span",{className:"font-medium",children:n()})]}),e.jsxs(w,{variant:"secondary",fullWidth:!0,onClick:y,children:[e.jsx(Ue,{size:16}),"התנתק"]})]})]}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(pa,{className:"text-blue-500"}),"ניהול נתונים"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"צלילות שמורות"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," רשומות ביומן"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(w,{variant:"secondary",fullWidth:!0,onClick:g,disabled:t.length===0,children:[e.jsx(ya,{size:16}),"ייצוא נתונים (JSON)"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:".json",onChange:m,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),e.jsxs(w,{variant:"secondary",fullWidth:!0,as:"label",htmlFor:"import-file",className:"cursor-pointer",children:[e.jsx(ja,{size:16}),"ייבוא נתונים (JSON)"]})]}),d&&e.jsx("div",{className:"p-3 bg-coral-50 border border-coral-200 rounded-lg",children:e.jsxs("div",{className:"text-coral-700 text-sm font-medium",children:["שגיאה בייבוא: ",d]})}),e.jsxs(w,{variant:"danger",fullWidth:!0,onClick:()=>o(!0),disabled:t.length===0,children:[e.jsx(qe,{size:16}),"מחיקת כל הנתונים"]})]})]})]}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Ea,{className:"text-green-500"}),"אודות האפליקציה"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"גרסה"}),e.jsx("span",{className:"font-medium",children:p})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"תאריך בנייה"}),e.jsx("span",{className:"font-medium",children:E})]}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("div",{className:"text-sm text-gray-600 text-center",children:"אורקה - יומן צלילה מקצועי לדייגים"})})]})]}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Progressive Web App"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"האפליקציה עובדת גם ללא חיבור לאינטרנט"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"ניתן להתקין על המסך הראשי של הטלפון"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"הנתונים נשמרים בענן עם Firebase"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"סנכרון אוטומטי בין מכשירים"})]})]})]}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Na,{className:"text-coral-500"}),"תודות"]}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-gray-600",children:"נבנה עם ❤️ לקהילת הדייגים הישראלית"}),e.jsxs("div",{className:"flex justify-center gap-4 text-sm text-gray-500",children:[e.jsx("span",{children:"React"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"TypeScript"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Firebase"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"PWA"})]})]})]})]}),c&&e.jsx(_t,{title:"מחיקת כל הנתונים",message:`האם אתם בטוחים שברצונכם למחוק את כל ${t.length} הצלילות? פעולה זו לא ניתנת לביטול.`,onConfirm:x,onCancel:()=>o(!1)})]})},qr=({entry:t})=>{const[s,a]=N.useState(null),r=Y.find(u=>u.type===t.fishingType),i=Ke.find(u=>u.condition===t.weather.condition),n=Dt.find(u=>u.value===t.weather.current),l=(u,g)=>{try{const m=new Date(`${u}T${g}`);return{date:K(m,"EEEE, dd MMMM yyyy",{locale:ae}),time:K(m,"HH:mm",{locale:ae})}}catch{return{date:u,time:g}}},{date:c,time:o}=l(t.date,t.time),d=t.catches.reduce((u,g)=>u+g.quantity,0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ve,{className:"text-coral-500"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t.location})]}),e.jsxs("div",{className:"text-gray-600 space-y-1",children:[e.jsx("div",{children:c}),e.jsxs("div",{children:["שעת כניסה: ",o]})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(u=>e.jsx(Se,{className:u<=t.rating?"text-yellow-400":"text-gray-300",size:20},u))})]}),t.coordinates&&e.jsxs("div",{className:"text-sm text-gray-600",children:["קואורדינטות: ",t.coordinates.lat.toFixed(6),", ",t.coordinates.lng.toFixed(6)]})]})}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"text-ocean-500"}),"נתוני צלילה"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"bg-ocean-100 p-2 rounded-lg",children:e.jsx(A,{className:"text-ocean-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"עומק"}),e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.depth," מטר"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(ie,{className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"משך"}),e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.duration," דקות"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx(V,{className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"ראות"}),e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.visibility," מטר"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"bg-coral-100 p-2 rounded-lg",children:e.jsx(X,{className:"text-coral-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"דגים"}),e.jsxs("div",{className:"font-semibold text-gray-800",children:[d," נתפסו"]})]})]})]})]}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Ae,{className:"text-orange-500"}),"תנאי מזג אוויר"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"מזג אוויר"}),e.jsx("span",{className:"font-medium",children:i==null?void 0:i.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"טמפ' אוויר"}),e.jsxs("span",{className:"font-medium",children:[t.weather.temperature,"°C"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"טמפ' מים"}),e.jsxs("span",{className:"font-medium",children:[t.weather.waterTemperature,"°C"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"רוח"}),e.jsxs("span",{className:"font-medium",children:[t.weather.windSpeed," קמ״ש ",t.weather.windDirection]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"גלים"}),e.jsxs("span",{className:"font-medium",children:[t.weather.waveHeight," מטר"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"זרם"}),e.jsx("span",{className:"font-medium",children:n==null?void 0:n.label})]})]})]}),e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(We,{className:"text-gray-600"}),"ציוד"]}),e.jsxs("div",{className:"space-y-3",children:[t.equipment.mask&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"מסכה"}),e.jsx("span",{className:"font-medium",children:t.equipment.mask})]}),t.equipment.fins&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"סנפירים"}),e.jsx("span",{className:"font-medium",children:t.equipment.fins})]}),t.equipment.suit&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"חליפה"}),e.jsx("span",{className:"font-medium",children:t.equipment.suit})]}),t.equipment.weight>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"משקל"}),e.jsxs("span",{className:"font-medium",children:[t.equipment.weight," ק״ג"]})]}),t.equipment.gear&&t.equipment.gear.length>0&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-gray-600 mb-2",children:"ציוד נוסף"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.equipment.gear.map((u,g)=>e.jsx("span",{className:"bg-white px-2 py-1 rounded text-sm",children:u},g))})]})]})]}),t.catches.length>0&&e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"text-coral-500"}),"דגים שנתפסו (",d,")"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg mb-3",children:[e.jsx("span",{className:"text-gray-600",children:"שיטת דיג"}),e.jsx("span",{className:"font-medium",children:r==null?void 0:r.label})]}),t.catches.map(u=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsx("div",{children:e.jsxs("div",{className:"font-medium text-gray-800 flex items-center gap-2",children:[u.species,e.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.quantity," יח')"]}),u.released&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"שוחרר"})]})})}),(u.weight||u.length)&&e.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-2",children:[u.weight&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ge,{size:12}),u.weight," גרם"]}),u.length&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(At,{size:12}),u.length," ס״מ"]})]}),u.notes&&e.jsx("div",{className:"text-sm text-gray-600 mt-2 p-2 bg-gray-50 rounded",children:u.notes})]},u.id))]})]}),t.photos.length>0&&e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Be,{className:"text-purple-500"}),"תמונות (",t.photos.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.photos.map((u,g)=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>a(u),children:[e.jsx("img",{src:u,alt:`תמונה ${g+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200 hover:opacity-90 transition-opacity"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all flex items-center justify-center",children:e.jsx(fa,{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},g))})]}),t.notes&&e.jsxs(b,{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(zt,{className:"text-yellow-500"}),"הערות"]}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>a(null),children:e.jsxs("div",{className:"relative max-w-full max-h-full",children:[e.jsx("img",{src:s,alt:"תמונה מוגדלת",className:"max-w-full max-h-full object-contain rounded-lg"}),e.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:e.jsx(ce,{size:20})})]})})]})},Gr=()=>{const{id:t}=xt(),s=J(),{diveEntries:a,deleteEntry:r}=Q(),[i,n]=N.useState(!1),l=a.find(u=>u.id===t);if(!l)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:"צלילה לא נמצאה"}),e.jsx("div",{className:"p-4",children:e.jsxs(b,{className:"text-center py-12",children:[e.jsx(le,{className:"text-gray-400 mx-auto mb-4",size:48}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"צלילה לא נמצאה"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"הצלילה שחיפשתם אינה קיימת או נמחקה"}),e.jsxs(w,{variant:"primary",onClick:()=>s("/entries"),children:[e.jsx(Ct,{size:16}),"חזרה ליומן"]})]})})]});const c=()=>{s(`/edit/${l.id}`)},o=async()=>{try{await r(l.id),s("/entries")}catch(u){console.error("Error deleting entry:",u)}},d=async()=>{const u={title:`צלילה ב${l.location}`,text:`צלילה מעולה ב${l.location} - עומק ${l.depth}מ', ${l.catches.length} דגים נתפסו`,url:window.location.href};try{navigator.share&&navigator.canShare(u)?await navigator.share(u):(await navigator.clipboard.writeText(`${u.title}
${u.text}
${u.url}`),alert("הקישור הועתק ללוח"))}catch(g){console.error("Error sharing:",g)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{title:`צלילה ב${l.location}`}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(b,{padding:"sm",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(w,{variant:"primary",onClick:c,className:"flex-1",children:[e.jsx(va,{size:16}),"עריכה"]}),e.jsx(w,{variant:"secondary",onClick:d,className:"px-4",children:e.jsx(Sa,{size:16})}),e.jsx(w,{variant:"danger",onClick:()=>n(!0),className:"px-4",children:e.jsx(qe,{size:16})})]})}),e.jsx(qr,{entry:l})]}),i&&e.jsx(_t,{title:"מחיקת צלילה",message:`האם אתם בטוחים שברצונכם למחוק את הצלילה ב${l.location}? פעולה זו לא ניתנת לביטול.`,onConfirm:o,onCancel:()=>n(!1)})]})};function Kr(){return console.log("App component rendering..."),e.jsx($a,{children:e.jsxs(Ma,{children:[e.jsx(Ua,{}),e.jsx(Va,{}),e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsxs(Ut,{children:[e.jsx(U,{path:"/",element:e.jsx(_r,{})}),e.jsx(U,{path:"/entries",element:e.jsx(Mr,{})}),e.jsx(U,{path:"/entries/:id",element:e.jsx(Gr,{})}),e.jsx(U,{path:"/add",element:e.jsx(mt,{})}),e.jsx(U,{path:"/edit/:id",element:e.jsx(mt,{})}),e.jsx(U,{path:"/stats",element:e.jsx(Wr,{})}),e.jsx(U,{path:"/settings",element:e.jsx(Vr,{})}),e.jsx(U,{path:"/admin",element:e.jsx(qa,{})})]}),e.jsx(Oa,{})]})]})})}const Xr=Pt({reducer:{diveEntries:Zs,auth:sa},middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST"],ignoredPaths:["auth.user"]}})});console.log("Redux store initialized");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/OrcaApp/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});console.log("Starting React app...");Pe.createRoot(document.getElementById("root")).render(e.jsx(Rt.StrictMode,{children:e.jsx(Ot,{store:Xr,children:e.jsx(Bt,{basename:"/OrcaApp",children:e.jsx(Kr,{})})})}));
//# sourceMappingURL=index-cee01b39.js.map
